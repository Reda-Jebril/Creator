<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
Â  Â  <meta charset="UTF-8" />
Â  Â  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
Â  Â  <title>Ù…Ø¹Ø§Ù„Ø¬ Ø§Ù„Ø£Ø³Ø¦Ù„Ø©</title>
Â  Â  Â  Â  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/handsontable@14.3.0/dist/handsontable.min.css" />
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;700&display=swap" rel="stylesheet">
    Â  Â  <style>
Â  Â  Â  Â  /* --- Basic Setup --- */
Â  Â  Â  Â  * { margin: 0; padding: 0; box-sizing: border-box; }
Â  Â  Â  Â  body {
            /* MODIFIED: Changed font to Tajawal and added a base line-height */
Â  Â  Â  Â  Â  Â  font-family: 'Tajawal', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
Â  Â  Â  Â  Â  Â  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
Â  Â  Â  Â  Â  Â  min-height: 100vh; padding: 20px; color: #333;
Â  Â  Â  Â  Â  Â  display: flex; align-items: center; justify-content: center;
Â  Â  Â  Â  }
Â  Â  Â  Â  /* --- Main Container --- */
Â  Â  Â  Â  .container {
Â  Â  Â  Â  Â  Â  width: 100%; max-width: 1600px; margin: 0 auto;
Â  Â  Â  Â  Â  Â  background: rgba(255, 255, 255, 0.98); border-radius: 20px;
Â  Â  Â  Â  Â  Â  box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1); overflow: hidden;
Â  Â  Â  Â  }
Â  Â  Â  Â  /* --- Header --- */
Â  Â  Â  Â  .header {
Â  Â  Â  Â  Â  Â  background: linear-gradient(135deg, #4f46e5 0%, #7c3aed 100%);
Â  Â  Â  Â  Â  Â  color: white; padding: 30px; text-align: center; position: relative; overflow: hidden;
Â  Â  Â  Â  }
Â  Â  Â  Â  .header::before {
Â  Â  Â  Â  Â  Â  content: ''; position: absolute; top: -50%; left: -50%;
Â  Â  Â  Â  Â  Â  width: 200%; height: 200%;
Â  Â  Â  Â  Â  Â  background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%);
Â  Â  Â  Â  Â  Â  animation: pulse 4s ease-in-out infinite;
Â  Â  Â  Â  }
Â  Â  Â  Â  @keyframes pulse { 0%, 100% { transform: scale(1); opacity: 0.5; } 50% { transform: scale(1.1); opacity: 0.8; } }
Â  Â  Â  Â  .header h1 { font-size: 2.5em; margin-bottom: 10px; text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3); position: relative; z-index: 1; }
Â  Â  Â  Â  .header p { font-size: 1.2em; opacity: 0.9; position: relative; z-index: 1; }
Â  Â  Â  Â  .ai-badge {
Â  Â  Â  Â  Â  Â  position: absolute; top: 15px; right: 15px; background: rgba(255, 255, 255, 0.2);
Â  Â  Â  Â  Â  Â  padding: 8px 15px; border-radius: 20px; font-size: 0.9em; backdrop-filter: blur(10px);
Â  Â  Â  Â  }
Â  Â  Â  Â  /* --- Content Layout --- */
Â  Â  Â  Â  .content {
Â  Â  Â  Â  Â  Â  padding: 40px; display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 30px;
Â  Â  Â  Â  }
Â  Â  Â  Â  .panel {
Â  Â  Â  Â  Â  Â  background: #f8fafc; border-radius: 15px; padding: 25px; border: 2px solid #e2e8f0;
Â  Â  Â  Â  Â  Â  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05); transition: all 0.3s ease; display: flex; flex-direction: column;
Â  Â  Â  Â  }
Â  Â  Â  Â  .panel:hover { transform: translateY(-2px); box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1); }
Â  Â  Â  Â  .panel h3 { color: #4f46e5; margin-bottom: 20px; font-size: 1.3em; display: flex; align-items: center; gap: 10px; }
Â  Â  Â  Â  .question-type-selector {
Â  Â  Â  Â  Â  Â  display: grid; grid-template-columns: repeat(auto-fit, minmax(120px, 1fr)); gap: 10px; margin-bottom: 20px;
Â  Â  Â  Â  }
Â  Â  Â  Â  .q-type-btn { padding: 10px; border: 2px solid #e2e8f0; border-radius: 10px; background-color: #fff; cursor: pointer; transition: all 0.2s ease-in-out; font-weight: 600; color: #475569; text-align: center; }
Â  Â  Â  Â  .q-type-btn:hover { background-color: #f1f5f9; border-color: #cbd5e1; }
Â  Â  Â  Â  .q-type-btn.active { background-color: #e0e7ff; border-color: #4f46e5; color: #4f46e5; box-shadow: 0 0 0 3px rgba(79, 70, 229, 0.1); }
Â  Â  Â  Â  .input-section textarea, .edit-textarea {
            /* MODIFIED: Font, size, and line-height for better readability */
Â  Â  Â  Â  Â  Â  width: 100%; min-height: 250px; padding: 20px; border: 2px solid #e5e7eb; border-radius: 15px;
Â  Â  Â  Â  Â  Â  font-size: 16px; 
Â  Â  Â  Â  Â  Â  line-height: 1.7; 
            resize: vertical; transition: all 0.3s ease;
Â  Â  Â  Â  Â  Â  background: #fdfdff; 
Â  Â  Â  Â  Â  Â  font-family: 'Tajawal', monospace; 
            margin-bottom: 10px;
Â  Â  Â  Â  }
Â  Â  Â  Â  .input-section textarea:focus, .edit-textarea:focus { outline: none; border-color: #4f46e5; box-shadow: 0 0 0 3px rgba(79, 70, 229, 0.1); }
Â  Â  Â  Â  .api-key-section { margin-top: 15px; }
Â  Â  Â  Â  .api-key-section input, .api-key-section select {
Â  Â  Â  Â  Â  Â  width: 100%; padding: 12px; border: 2px solid #e5e7eb; border-radius: 10px; font-size: 14px; transition: all 0.3s ease; margin-bottom: 10px;
Â  Â  Â  Â  }
Â  Â  Â  Â  .api-key-section input:focus, .api-key-section select:focus { outline: none; border-color: #7c3aed; box-shadow: 0 0 0 3px rgba(124, 58, 237, 0.1); }
Â  Â  Â  Â  .controls { display: flex; gap: 10px; flex-wrap: wrap; margin-top: 20px; }
Â  Â  Â  Â  .controls .btn { flex-grow: 1; }
Â  Â  Â  Â  .btn {
Â  Â  Â  Â  Â  Â  padding: 15px 20px; border: none; border-radius: 12px; font-size: 14px; font-weight: bold; cursor: pointer; transition: all 0.3s ease;
Â  Â  Â  Â  Â  Â  text-transform: uppercase; letter-spacing: 1px; position: relative; overflow: hidden; display: flex; align-items: center; justify-content: center; gap: 8px;
Â  Â  Â  Â  }
Â  Â  Â  Â  .btn:before { content: ''; position: absolute; top: 0; left: -100%; width: 100%; height: 100%; background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent); transition: left 0.5s; }
Â  Â  Â  Â  .btn:hover:before { left: 100%; }
Â  Â  Â  Â  .btn:disabled { cursor: not-allowed; opacity: 0.6; }
Â  Â  Â  Â  .btn-primary { background: linear-gradient(135deg, #4f46e5 0%, #7c3aed 100%); color: white; }
Â  Â  Â  Â  .btn-primary:hover:not(:disabled) { transform: translateY(-2px); box-shadow: 0 10px 25px rgba(79, 70, 229, 0.3); }
Â  Â  Â  Â  .btn-secondary { background: #f3f4f6; color: #374151; border: 2px solid #d1d5db; }
Â  Â  Â  Â  .btn-secondary:hover:not(:disabled) { background: #e5e7eb; border-color: #9ca3af; }
Â  Â  Â  Â  .btn-success { background: linear-gradient(135deg, #10b981 0%, #059669 100%); color: white; }
Â  Â  Â  Â  .btn-warning { background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%); color: white; }
Â  Â  Â  Â  .btn-ai { background: linear-gradient(135deg, #ec4899 0%, #d946ef 100%); color: white; }
Â  Â  Â  Â  .btn-ai:hover:not(:disabled) { transform: translateY(-2px); box-shadow: 0 10px 25px rgba(236, 72, 153, 0.3); }
Â  Â  Â  Â  .json-output {
Â  Â  Â  Â  Â  Â  background: #1e293b; color: #e2e8f0; padding: 20px; border-radius: 12px; font-family: 'Courier New', monospace;
Â  Â  Â  Â  Â  Â  font-size: 13px; line-height: 1.4; overflow-x: auto; white-space: pre-wrap; max-height: 500px; overflow-y: auto; border: 1px solid #334155; flex-grow: 1; margin-top: 15px;
Â  Â  Â  Â  }
Â  Â  Â  Â  .json-output .key { color: #60a5fa; } .json-output .string { color: #34d399; } .json-output .number { color: #fbbf24; }
Â  Â  Â  Â  .json-output .boolean { color: #f87171; } .json-output .null { color: #a78bfa; }
Â  Â  Â  Â  .analysis-section { background: white; padding: 20px; border-radius: 12px; margin-bottom: 20px; border: 1px solid #e2e8f0; }
Â  Â  Â  Â  .analysis-item { display: flex; justify-content: space-between; align-items: center; padding: 10px 0; border-bottom: 1px solid #f3f4f6; font-size: 0.9em; }
Â  Â  Â  Â  .analysis-item:last-child { border-bottom: none; }
Â  Â  Â  Â  .confidence-bar { width: 100px; height: 8px; background: #e5e7eb; border-radius: 4px; overflow: hidden; }
Â  Â  Â  Â  .confidence-fill { height: 100%; background: linear-gradient(90deg, #ef4444, #f59e0b, #10b981); border-radius: 4px; transition: width 0.5s ease-in-out; }
Â  Â  Â  Â  #questionsPreview { flex-grow: 1; overflow-y: auto; max-height: 70vh; }
Â  Â  Â  Â  .question-preview { background: white; padding: 20px; border-radius: 12px; margin-bottom: 15px; border: 1px solid #e2e8f0; box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05); animation: fadeIn 0.5s ease; position: relative; }
Â  Â  Â  Â  @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
Â  Â  Â  Â  .question-actions { position: absolute; top: 10px; left: 10px; display: none; gap: 8px; z-index: 10; }
Â  Â  Â  Â  .question-preview:hover .question-actions { display: flex; }
Â  Â  Â  Â  .action-btn { background: rgba(249, 250, 251, 0.8); border: 1px solid #d1d5db; border-radius: 50%; width: 32px; height: 32px; cursor: pointer; font-size: 16px; display: flex; align-items: center; justify-content: center; transition: all 0.2s ease; backdrop-filter: blur(2px); }
Â  Â  Â  Â  .action-btn:hover { background: #4f46e5; border-color: #4f46e5; color: white; transform: scale(1.1); }
Â  Â  Â  Â  .action-btn:disabled { opacity: 0.4; cursor: not-allowed; background: #e5e7eb; }
Â  Â  Â  Â  .validation-warning {
Â  Â  Â  Â  Â  Â  position: absolute;
Â  Â  Â  Â  Â  Â  top: 15px;
Â  Â  Â  Â  Â  Â  left: 50px;
Â  Â  Â  Â  Â  Â  font-size: 1.2em;
Â  Â  Â  Â  Â  Â  cursor: help;
Â  Â  Â  Â  }
Â  Â  Â  Â  .question-preview h4, .question-preview .statement-preview { color: #374151; margin-bottom: 10px; font-size: 1.1em; line-height: 1.5; }
Â  Â  Â  Â  .part-preview { border-top: 2px dashed #a5b4fc; margin-top: 15px; padding-top: 15px; }
Â  Â  Â  Â  .part-preview h5 { color: #4338ca; font-size: 1em; margin-bottom: 8px; }
Â  Â  Â  Â  .question-type-badge { display: inline-block; padding: 4px 12px; border-radius: 20px; font-size: 0.8em; font-weight: bold; margin-bottom: 10px; }
Â  Â  Â  Â  .type-mcq { background: #dbeafe; color: #1e40af; } .type-mrq { background: #e0e7ff; color: #3730a3; } .type-matching { background: #e0e7ff; color: #3730a3; }
Â  Â  Â  Â  .type-gapText { background: #d1fae5; color: #065f46; } .type-string { background: #fef3c7; color: #92400e; }
Â  Â  Â  Â  .type-frq { background: #fce7f3; color: #be185d; } .type-frq_ai { background: #fce7f3; color: #be185d; }
Â  Â  Â  Â  .type-oq { background: #fef9c3; color: #854d0e; } .type-input_box { background: #f3e8ff; color: #6b21a8; } .type-unknown { background: #fee2e2; color: #991b1b; }
Â  Â  Â  Â  .choice-item { padding: 8px 15px; margin: 5px 0; background: #f8fafc; border-radius: 8px; border: 1px solid #e2e8f0; transition: all 0.2s ease; }
Â  Â  Â  Â  .part-preview[data-interactive="true"] .choice-item { cursor: pointer; }
Â  Â  Â  Â  .part-preview[data-interactive="true"] .choice-item:hover { background: #f3f4f6; border-color: #4f46e5; }
Â  Â  Â  Â  .choice-item.correct { background: #dcfce7; border-color: #16a34a; color: #15803d; font-weight: bold; }
Â  Â  Â  Â  .choice-item.correct::before { content: 'âœ” '; color: #15803d; }
Â  Â  Â  Â  .matching-preview { display: flex; gap: 20px; }
Â  Â  Â  Â  .matching-column { flex: 1; }
Â  Â  Â  Â  .matching-item { background: #f8fafc; border: 1px solid #e2e8f0; padding: 10px; border-radius: 8px; margin-bottom: 8px; }
Â  Â  Â  Â  .gapped-text-answers { margin-top: 15px; padding-top: 10px; border-top: 1px dashed #ccc; }
Â  Â  Â  Â  .gapped-text-answers strong { color: #4f46e5; }
Â  Â  Â  Â  .stats { display: grid; grid-template-columns: repeat(auto-fit, minmax(120px, 1fr)); gap: 15px; margin-bottom: 20px; }
Â  Â  Â  Â  .stat-card { background: white; padding: 15px; border-radius: 12px; text-align: center; box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05); border: 1px solid #e5e7eb; transition: all 0.3s ease; }
Â  Â  Â  Â  .stat-card:hover { transform: translateY(-3px); box-shadow: 0 10px 20px rgba(0, 0, 0, 0.08); }
Â  Â  Â  Â  .stat-card h4 { color: #4f46e5; margin-bottom: 10px; font-size: 0.9em; }
Â  Â  Â  Â  .stat-card span { font-size: 2em; font-weight: bold; color: #1f2937; }
Â  Â  Â  Â  .loading { display: none; text-align: center; padding: 20px; }
Â  Â  Â  Â  .spinner { border: 4px solid #f3f4f6; border-top: 4px solid #4f46e5; border-radius: 50%; width: 40px; height: 40px; animation: spin 1s linear infinite; margin: 0 auto 15px; }
Â  Â  Â  Â  .btn .spinner { width: 20px; height: 20px; margin: 0; }
Â  Â  Â  Â  @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
Â  Â  Â  Â  .message-container { position: fixed; top: 20px; left: 50%; transform: translateX(-50%); z-index: 1000; display: flex; flex-direction: column; align-items: center; gap: 10px; }
Â  Â  Â  Â  .message { padding: 15px 25px; border-radius: 8px; box-shadow: 0 4px 15px rgba(0,0,0,0.1); animation: slideIn 0.5s ease, fadeOut 0.5s ease 3.5s forwards; font-weight: 500; min-width: 300px; text-align: center; position: relative; }
Â  Â  Â  Â  .message.error { background: #fee2e2; color: #dc2626; border: 1px solid #fecaca; }
Â  Â  Â  Â  .message.success { background: #dcfce7; color: #065f46; border: 1px solid #a7f3d0; }
Â  Â  Â  Â  .message.warning { background: #fef3c7; color: #92400e; border: 1px solid #fde68a; }
Â  Â  Â  Â  .message .close-x { position: absolute; top: 6px; left: 8px; cursor: pointer; font-weight: bold; opacity: .6; }
Â  Â  Â  Â  @keyframes slideIn { from { transform: translateY(-50px) translateX(-50%); opacity: 0; } to { transform: translateY(0) translateX(-50%); opacity: 1; } }
Â  Â  Â  Â  @keyframes fadeOut { from { opacity: 1; } to { opacity: 0; transform: translateY(-20px) translateX(-50%); } }
Â  Â  Â  Â  #csvModalBg, #aiTemplateModalBg, #subjectTemplateModalBg, #generationModalBg {
Â  Â  Â  Â  Â  Â  display: none; position: fixed; top: 0; left: 0; width: 100vw; height: 100vh;
Â  Â  Â  Â  Â  Â  background: rgba(0,0,0,0.25); z-index: 3000; align-items: center; justify-content: center;
Â  Â  Â  Â  }
Â  Â  Â  Â  #csvModal, #aiTemplateModal, #subjectTemplateModal {
Â  Â  Â  Â  Â  Â  background: white; border-radius: 16px; max-width: 1200px; width: 95vw; padding: 32px 24px;
Â  Â  Â  Â  Â  Â  box-shadow: 0 8px 32px rgba(0,0,0,0.15); position: relative; min-height: 600px; min-width: 900px;
Â  Â  Â  Â  Â  Â  display: flex; flex-direction: column; align-items: center; justify-content: center;
Â  Â  Â  Â  }
Â  Â  Â  Â  #csvModal .hot-container, #aiTemplateModal .hot-container { margin-bottom: 18px; width: 100%; }
Â  Â  Â  Â  #csvModal .btn, #aiTemplateModal .btn, #subjectTemplateModal .btn { min-width: 120px; }
Â  Â  Â  Â  #csvModal .csv-warning { color: #dc2626; font-weight: bold; margin-bottom: 10px; }
Â  Â  Â  Â Â 
Â  Â  Â  Â  math-field {
Â  Â  Â  Â  Â  Â  border: 1px solid #ddd; padding: 2px 5px; border-radius: 4px; font-size: 1.1em;Â 
Â  Â  Â  Â  Â  Â  display: inline-block; background: #f9f9f9;
Â  Â  Â  Â  Â  Â  min-width: 20px;
Â  Â  Â  Â  Â  Â  vertical-align: -0.25em;
Â  Â  Â  Â  }
Â  Â  Â  Â  math-field:focus-within {
Â  Â  Â  Â  Â  Â  background-color: #eef2ff;
Â  Â  Â  Â  Â  Â  box-shadow: 0 0 0 2px #4f46e5;
Â  Â  Â  Â  Â  Â  outline: none;
Â  Â  Â  Â  }

        /* === START: NEW JUSTIFICATION & READABILITY STYLES === */
        /* This selector targets the <p> tags generated by the script inside the preview areas */
        .LexicalTheme__paragraph {
            text-align: justify;
            line-height: 1.75; /* Increased for better readability */
            margin-bottom: 0.5em; /* Adds a little space between paragraphs */
        }
        /* === END: NEW JUSTIFICATION & READABILITY STYLES === */

Â  Â  Â  Â  /* --- Tags Modal --- */
Â  Â  Â  Â  #tagsModal {
Â  Â  Â  Â  Â  Â  display: none;
Â  Â  Â  Â  Â  Â  position: fixed;
Â  Â  Â  Â  Â  Â  top: 150px;
Â  Â  Â  Â  Â  Â  left: 150px;
Â  Â  Â  Â  Â  Â  width: 380px;
Â  Â  Â  Â  Â  Â  background: white;
Â  Â  Â  Â  Â  Â  border-radius: 12px;
Â  Â  Â  Â  Â  Â  box-shadow: 0 10px 30px rgba(0,0,0,0.2);
Â  Â  Â  Â  Â  Â  z-index: 4000;
Â  Â  Â  Â  Â  Â  border: 1px solid #ccc;
Â  Â  Â  Â  }
Â  Â  Â  Â  #tagsModalHeader {
Â  Â  Â  Â  Â  Â  padding: 12px 15px;
Â  Â  Â  Â  Â  Â  cursor: move;
Â  Â  Â  Â  Â  Â  background: #f1f5f9;
Â  Â  Â  Â  Â  Â  border-bottom: 1px solid #e2e8f0;
Â  Â  Â  Â  Â  Â  border-top-left-radius: 12px;
Â  Â  Â  Â  Â  Â  border-top-right-radius: 12px;
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  justify-content: space-between;
Â  Â  Â  Â  Â  Â  align-items: center;
Â  Â  Â  Â  Â  Â  font-weight: bold;
Â  Â  Â  Â  Â  Â  color: #475569;
Â  Â  Â  Â  }
Â  Â  Â  Â  #tags-modal-close-btn {
Â  Â  Â  Â  Â  Â  background: none;
Â  Â  Â  Â  Â  Â  border: none;
Â  Â  Â  Â  Â  Â  font-size: 1.5em;
Â  Â  Â  Â  Â  Â  cursor: pointer;
Â  Â  Â  Â  Â  Â  color: #64748b;
Â  Â  Â  Â  Â  Â  line-height: 1;
Â  Â  Â  Â  }
Â  Â  Â  Â  #tagsModalBody {
Â  Â  Â  Â  Â  Â  padding: 15px;
Â  Â  Â  Â  }
Â  Â  Â  Â  .tags-section h4 {
Â  Â  Â  Â  Â  Â  font-size: 1em;
Â  Â  Â  Â  Â  Â  color: #4f46e5;
Â  Â  Â  Â  Â  Â  margin-bottom: 10px;
Â  Â  Â  Â  Â  Â  padding-bottom: 5px;
Â  Â  Â  Â  Â  Â  border-bottom: 2px solid #e0e7ff;
Â  Â  Â  Â  }
Â  Â  Â  Â  .tags-grid {
Â  Â  Â  Â  Â  Â  Â display: grid;
Â  Â  Â  Â  Â  Â  grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
Â  Â  Â  Â  Â  Â  gap: 10px;
Â  Â  Â  Â  Â  Â  margin-bottom: 15px;
Â  Â  Â  Â  }
Â  Â  Â  Â  .tag-btn {
Â  Â  Â  Â  Â  Â  padding: 10px;
Â  Â  Â  Â  Â  Â  font-family: 'Courier New', monospace;
Â  Â  Â  Â  Â  Â  font-weight: bold;
Â  Â  Â  Â  Â  Â  background: #f8fafc;
Â  Â  Â  Â  Â  Â  border: 1px solid #e2e8f0;
Â  Â  Â  Â  Â  Â  border-radius: 8px;
Â  Â  Â  Â  Â  Â  cursor: pointer;
Â  Â  Â  Â  Â  Â  transition: all 0.2s ease;
Â  Â  Â  Â  Â  Â  text-align: center;
Â  Â  Â  Â  }
Â  Â  Â  Â  .tag-btn:hover {
Â  Â  Â  Â  Â  Â  background: #e0e7ff;
Â  Â  Â  Â  Â  Â  border-color: #4f46e5;
Â  Â  Â  Â  Â  Â  color: #4f46e5;
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  /* --- Generation Modal --- */
Â  Â  Â  Â  #generationModal {
Â  Â  Â  Â  Â  Â  background: white; border-radius: 16px; max-width: 1200px; width: 95vw;Â 
Â  Â  Â  Â  Â  Â  box-shadow: 0 8px 32px rgba(0,0,0,0.15); position: relative;Â 
Â  Â  Â  Â  Â  Â  display: flex; flex-direction: column;
Â  Â  Â  Â  Â  Â  max-height: 90vh;
Â  Â  Â  Â  }
Â  Â  Â  Â  .generation-header {
Â  Â  Â  Â  Â  Â  padding: 1.25rem 1.5rem; border-bottom: 1px solid #e5e7eb;
Â  Â  Â  Â  }
Â  Â  Â  Â  .generation-header h2 { color: #4f46e5; }
Â  Â  Â  Â  .generation-content {
Â  Â  Â  Â  Â  Â  display: grid; grid-template-columns: 1fr 1fr; gap: 2rem;
Â  Â  Â  Â  Â  Â  padding: 1.5rem; overflow-y: auto;
Â  Â  Â  Â  }
Â  Â  Â  Â  .generation-column h4 { margin-bottom: 1rem; color: #4338ca; }
Â  Â  Â  Â  .generation-footer {
Â  Â  Â  Â  Â  Â  padding: 1rem 1.5rem; border-top: 1px solid #e5e7eb; text-align: left;
Â  Â  Â  Â  }
Â  Â  Â  Â  #gen-image-drop-zone {
Â  Â  Â  Â  Â  Â  border: 2px dashed #cbd5e1; border-radius: 12px; padding: 2rem; text-align: center;
Â  Â  Â  Â  Â  Â  color: #64748b; cursor: pointer; transition: all 0.2s ease;
Â  Â  Â  Â  }
Â  Â  Â  Â  #gen-image-drop-zone.dragover { background: #eef2ff; border-color: #4f46e5; }
Â  Â  Â  Â  #gen-image-preview { margin-top: 1rem; max-width: 100%; max-height: 150px; border-radius: 8px; }
Â  Â  Â  Â  .gen-q-type-row { display: flex; align-items: center; justify-content: space-between; margin-bottom: 0.75rem; }
Â  Â  Â  Â  .gen-q-type-row label { font-weight: 500; }
Â  Â  Â  Â  .gen-q-type-row input { width: 60px; padding: 5px 8px; border-radius: 6px; border: 1px solid #d1d5db; text-align: center; }
Â  Â  Â  Â  #gen-multi-part-types { width: 100%; padding: 8px; border-radius: 6px; border: 1px solid #d1d5db; margin-top: 5px; }


Â  Â  Â  Â  @media (max-width: 1200px) { .content { grid-template-columns: 1fr 1fr; } }
Â  Â  Â  Â  @media (max-width: 768px) {
Â  Â  Â  Â  Â  Â  body { padding: 10px; } .content { grid-template-columns: 1fr; padding: 20px; }
Â  Â  Â  Â  Â  Â  .header h1 { font-size: 2em; } .header p { font-size: 1em; }
Â  Â  Â  Â  Â  Â  .controls { flex-direction: column; } .btn { width: 100%; } .question-type-selector { grid-template-columns: 1fr 1fr; }
Â  Â  Â  Â  Â  Â  .generation-content { grid-template-columns: 1fr; }
Â  Â  Â  Â  }
Â  Â  </style>
</head>
<body>
Â  Â  <div id="messageContainer" class="message-container"></div>
Â  Â  <div class="container">
Â  Â  Â  Â  <div class="header">
Â  Â  Â  Â  Â  Â  <div class="ai-badge">ğŸ¤– AI Powered</div>
Â  Â  Â  Â  Â  Â  <h1 id="main-title">ğŸš€ Ù…Ø­ÙˆÙ„ Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ø°ÙƒÙŠ Ø§Ù„Ù…ØªØ·ÙˆØ±</h1>
Â  Â  Â  Â  Â  Â  <p id="main-subtitle">Ø­ÙˆÙ‘Ù„ Ù†ØµÙˆØµ Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø¥Ù„Ù‰ ØµÙŠØºØ© JSON Ù…ØªÙ‚Ø¯Ù…Ø© Ø¨Ø¶ØºØ·Ø© Ø²Ø±</p>
Â  Â  Â  Â  </div>
Â  Â  Â  Â  <div class="content">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="panel">
Â  Â  Â  Â  Â  Â  Â  Â  <h3 id="panel-title-1"><span style="font-size: 1.5em; line-height: 1;">â‘ </span> Ø§Ø®ØªØ± Ù†ÙˆØ¹ Ø§Ù„Ø³Ø¤Ø§Ù„ (Ù„Ù„Ù†Øµ Ø§Ù„Ø¨Ø³ÙŠØ·)</h3>
Â  Â  Â  Â  Â  Â  Â  Â  <div id="questionTypeSelector" class="question-type-selector"></div>
Â  Â  Â  Â  Â  Â  Â  Â  <h3 id="panel-title-2" style="margin-top: 20px;"><span style="font-size: 1.5em; line-height: 1;">â‘¡</span> Ø£Ø¯Ø®Ù„ Ø§Ù„Ù†Øµ</h3>
Â  Â  Â  Â  Â  Â  Â  Â  <div class="input-section">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <textarea id="questionInput" placeholder="Ø£Ø¯Ø®Ù„ Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø³Ø¤Ø§Ù„ Ù‡Ù†Ø§...
Ø³ÙŠØªÙ… ØªØ¬Ø§Ù‡Ù„ Ø£ÙŠ Ø¨ÙŠØ§Ù†Ø§Øª ÙˆØµÙÙŠØ© Ù…Ø«Ù„ id Ø£Ùˆ language (Ù…Ø§ Ø¹Ø¯Ø§ type Ø§Ù„Ø°ÙŠ Ø³ÙŠØ¶Ø§Ù ØªÙ„Ù‚Ø§Ø¦ÙŠÙ‹Ø§).
Ø§Ø³ØªØ®Ø¯Ù… Ø§Ù„ÙˆØ³ÙˆÙ… Ù…Ø«Ù„ @STEM Ùˆ @CHOICES Ù„ØªØ­Ø¯ÙŠØ¯ Ø£Ø¬Ø²Ø§Ø¡ Ø§Ù„Ø³Ø¤Ø§Ù„.
Ø§ÙØµÙ„ Ø¨ÙŠÙ† ÙƒÙ„ Ø³Ø¤Ø§Ù„ Ø¨Ù€ ---
"></textarea>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  <div class="api-key-section">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <select id="aiProviderSelect">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option value="gemini" selected>Google Gemini</option>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option value="openai">OpenAI</option>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </select>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div id="gemini-key-container">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <input type="password" id="geminiApiKey" placeholder="ğŸ”‘ Ø£Ø¯Ø®Ù„ Ù…ÙØªØ§Ø­ Gemini API Ù‡Ù†Ø§">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div id="openai-key-container" style="display: none;">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <input type="password" id="openaiApiKey" placeholder="ğŸ”‘ Ø£Ø¯Ø®Ù„ Ù…ÙØªØ§Ø­ OpenAI API Ù‡Ù†Ø§">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  <div class="controls">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button id="generate-questions-btn" class="btn btn-primary" aria-label="ØªÙˆÙ„ÙŠØ¯ Ø£Ø³Ø¦Ù„Ø©">ğŸš€ ØªÙˆÙ„ÙŠØ¯ Ø£Ø³Ø¦Ù„Ø©</button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button id="smart-analyze-btn" class="btn btn-primary" aria-label="ØªØ­Ù„ÙŠÙ„ Ø°ÙƒÙŠ">ğŸ¤– ØªØ­Ù„ÙŠÙ„ Ø°ÙƒÙŠ</button>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â <div class="controls">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button id="clean-format-btn" class="btn btn-secondary" aria-label="ØªÙ†Ø¸ÙŠÙ ÙˆØªÙ†Ø³ÙŠÙ‚">âœ¨ ØªÙ†Ø¸ÙŠÙ ÙˆØªÙ†Ø³ÙŠÙ‚</button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button id="aiEnhanceBtn" class="btn btn-ai" aria-label="ØªØ­Ø³ÙŠÙ† Ø¨Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ">ğŸ’ ØªØ­Ø³ÙŠÙ† Ø¨Ø§Ù„Ù€ AI</button>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  <div class="controls">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button id="convert-json-btn" class="btn btn-success" aria-label="ØªØ­ÙˆÙŠÙ„ Ø¥Ù„Ù‰ JSON">ğŸ”„ ØªØ­ÙˆÙŠÙ„ Ù„Ù€ JSON</button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button id="customizeBtn" class="btn btn-secondary" aria-label="ØªØ®ØµÙŠØµ">âš™ï¸ ØªØ®ØµÙŠØµ</button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button id="tagsBtn" class="btn btn-secondary" aria-label="Ø¥Ø¯Ø±Ø§Ø¬ ÙˆØ³Ù…">ğŸ·ï¸ Tags</button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button id="clear-all-btn" class="btn btn-secondary" aria-label="Ù…Ø³Ø­ Ø§Ù„ÙƒÙ„">ğŸ—‘ï¸ Ù…Ø³Ø­ Ø§Ù„ÙƒÙ„</button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button id="langSwitchBtn" class="btn btn-warning" aria-label="ØªØ¨Ø¯ÙŠÙ„ Ø§Ù„Ù„ØºØ©">ğŸŒ English</button>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  <div class="loading" id="loading">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="spinner"></div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p id="loading-text">Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù„ÙŠÙ„...</p>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="panel">
Â  Â  Â  Â  Â  Â  Â  Â  <h3 id="panel-title-3">ğŸ” ØªØ­Ù„ÙŠÙ„ ÙˆÙ…Ø®Ø±Ø¬Ø§Øª</h3>
Â  Â  Â  Â  Â  Â  Â  Â  <div class="analysis-section" id="analysisSection">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="analysis-item"><span id="analysis-label-1">Ø¬ÙˆØ¯Ø© Ø§Ù„ÙƒØ´Ù:</span><div class="confidence-bar"><div id="detectionQuality" class="confidence-fill" style="width: 0%"></div></div></div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="analysis-item"><span id="analysis-label-2">Ø¯Ù‚Ø© Ø§Ù„ØªØµÙ†ÙŠÙ:</span><div class="confidence-bar"><div id="classificationAccuracy" class="confidence-fill" style="width: 0%"></div></div></div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="analysis-item"><span id="analysis-label-3">Ø§ÙƒØªÙ…Ø§Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª:</span><div class="confidence-bar"><div id="dataCompleteness" class="confidence-fill" style="width: 0%"></div></div></div>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  <div class="stats" id="stats">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="stat-card"><h4 id="stats-label-1">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø£Ø³Ø¦Ù„Ø©</h4><span id="totalQuestions">0</span></div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="stat-card"><h4 id="stats-label-2">Ù…Ø¹Ø¯Ù„ Ø§Ù„Ø«Ù‚Ø©</h4><span id="confidenceScore">0%</span></div>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  <div class="json-output" id="jsonOutput" style="display: none;"></div>
Â  Â  Â  Â  Â  Â  Â  Â  <div class="controls" style="margin-top: auto;">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button id="copyBtn" class="btn btn-secondary" disabled aria-label="Ù†Ø³Ø® JSON">ğŸ“‹ Ù†Ø³Ø® JSON</button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button id="downloadBtn" class="btn btn-warning" disabled aria-label="ØªØ­Ù…ÙŠÙ„ JSON">ğŸ’¾ ØªØ­Ù…ÙŠÙ„</button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button id="downloadZipBtn" class="btn btn-warning" disabled aria-label="ØªØ­Ù…ÙŠÙ„ ZIP">ğŸ—œï¸ ØªØ­Ù…ÙŠÙ„ ÙƒÙ€ ZIP</button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button id="csvBtn" class="btn btn-secondary" disabled aria-label="CSV">ğŸ“„ CSV</button>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="panel">
Â  Â  Â  Â  Â  Â  Â  Â  <h3 id="panel-title-4">ğŸ‘ï¸ Ù…Ø¹Ø§ÙŠÙ†Ø© Ø§Ù„Ø£Ø³Ø¦Ù„Ø©</h3>
Â  Â  Â  Â  Â  Â  Â  Â  <div id="questionsPreview">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div id="preview-placeholder" style="text-align: center; color: #6b7280; padding: 40px; height: 100%; display: flex; flex-direction: column; justify-content: center; align-items: center;">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div style="font-size: 3em; margin-bottom: 20px;">ğŸ“‹</div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p>Ø³ØªØ¸Ù‡Ø± Ù…Ø¹Ø§ÙŠÙ†Ø© Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ù‡Ù†Ø§ Ø¨Ø¹Ø¯ Ø§Ù„ØªØ­Ù„ÙŠÙ„</p>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  </div>
Â  Â  </div>
Â  Â  Â  Â  <div id="customizeModal" style="display:none; position:fixed; top:0; left:0; width:100vw; height:100vh; background:rgba(0,0,0,0.25); z-index:2000; align-items:center; justify-content:center;" role="dialog" aria-modal="true" aria-labelledby="customize-title">
Â  Â  Â  Â  <div style="background:white; border-radius:16px; max-width:400px; width:90vw; padding:32px 24px; box-shadow:0 8px 32px rgba(0,0,0,0.15); position:relative;">
Â  Â  Â  Â  Â  Â  <button id="customize-modal-close-btn" style="position:absolute; top:12px; left:12px; background:none; border:none; font-size:1.5em; cursor:pointer;" aria-label="Ø¥ØºÙ„Ø§Ù‚">Ã—</button>
Â  Â  Â  Â  Â  Â  <h2 id="customize-title" style="text-align:center; margin-bottom:24px; color:#4f46e5;">ØªØ®ØµÙŠØµ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª</h2>
Â  Â  Â  Â  Â  Â  <div style="margin-bottom:18px;">
Â  Â  Â  Â  Â  Â  Â  Â  <label for="categorySelect" style="font-weight:bold;">Category</label>
Â  Â  Â  Â  Â  Â  Â  Â  <select id="categorySelect" style="width:100%; padding:10px; border-radius:8px; border:1px solid #e5e7eb; margin-top:6px;">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option value="lesson" selected>lesson</option>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option value="exam">exam</option>
Â  Â  Â  Â  Â  Â  Â  Â  </select>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  <div style="margin-bottom:18px;">
Â  Â  Â  Â  Â  Â  Â  Â  <label for="directionSelect" style="font-weight:bold;">Ø§ØªØ¬Ø§Ù‡ Ø§Ù„ØªØ±ØªÙŠØ¨ (OQ)</label>
Â  Â  Â  Â  Â  Â  Â  Â  <select id="directionSelect" style="width:100%; padding:10px; border-radius:8px; border:1px solid #e5e7eb; margin-top:6px;">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option value="vertical" selected>Vertical (Ø¹Ù…ÙˆØ¯ÙŠ)</option>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option value="horizontal">Horizontal (Ø£ÙÙ‚ÙŠ)</option>
Â  Â  Â  Â  Â  Â  Â  Â  </select>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  <div style="margin-bottom:18px;">
Â  Â  Â  Â  Â  Â  Â  Â  <label for="langSelect" style="font-weight:bold;">Lang</label>
Â  Â  Â  Â  Â  Â  Â  Â  <select id="langSelect" style="width:100%; padding:10px; border-radius:8px; border:1px solid #e5e7eb; margin-top:6px;">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option value="ar" selected>ar</option>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option value="en">en</option>
Â  Â  Â  Â  Â  Â  Â  Â  </select>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  <div style="margin-bottom:18px;">
Â  Â  Â  Â  Â  Â  Â  Â  <label for="countrySelect" style="font-weight:bold;">Country</label>
Â  Â  Â  Â  Â  Â  Â  Â  <select id="countrySelect" style="width:100%; padding:10px; border-radius:8px; border:1px solid #e5e7eb; margin-top:6px;">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option value="eg" selected>eg</option>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option value="sa">sa</option>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option value="ae">ae</option>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option value="kw">kw</option>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option value="qa">qa</option>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option value="bh">bh</option>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option value="om">om</option>
Â  Â  Â  Â  Â  Â  Â  Â  </select>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  <div style="margin-bottom:18px;">
Â  Â  Â  Â  Â  Â  Â  Â  <label for="sourceIdSelect" style="font-weight:bold;">Source ID (Name)</label>
Â  Â  Â  Â  Â  Â  Â  Â  <select id="sourceIdSelect" style="width:100%; padding:10px; border-radius:8px; border:1px solid #e5e7eb; margin-top:6px;">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option value="qa">qa</option>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option value="bh">bh</option>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option value="om">om</option>
Â  Â  Â  Â  Â  Â  Â  Â  </select>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  <div style="margin-bottom:24px;">
Â  Â  Â  Â  Â  Â  Â  Â  <label for="dialectSelect" style="font-weight:bold;">Dialect</label>
Â  Â  Â  Â  Â  Â  Â  Â  <select id="dialectSelect" style="width:100%; padding:10px; border-radius:8px; border:1px solid #e5e7eb; margin-top:6px;">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option value="Modern_standard" selected>Modern_standard</option>
Â  Â  Â  Â  Â  Â  Â  Â  </select>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  <button id="aiTemplateBtn" class="btn btn-secondary" style="width:100%; margin-top: 10px;">AI Template ID</button>
Â  Â  Â  Â  Â  Â  <button id="subjectTemplateBtn" class="btn btn-secondary" style="width:100%; margin-top: 10px;">Subject Template ID</button>
Â  Â  Â  Â  Â  Â  <button id="customize-save-btn" class="btn btn-primary" style="width:100%; margin-top: 10px;">Ø­ÙØ¸</button>
Â  Â  Â  Â  </div>
Â  Â  </div>
Â  Â  Â  Â  <div id="tagsModal">
Â  Â  Â  Â  <div id="tagsModalHeader">
Â  Â  Â  Â  Â  Â  <span>Ø¥Ø¯Ø±Ø§Ø¬ ÙˆØ³Ù… (Tag)</span>
Â  Â  Â  Â  Â  Â  <button id="tags-modal-close-btn" aria-label="Ø¥ØºÙ„Ø§Ù‚">Ã—</button>
Â  Â  Â  Â  </div>
Â  Â  Â  Â  <div id="tagsModalBody">
Â  Â  Â  Â  Â  Â  Â <div class="tags-section" id="templates-section">
Â  Â  Â  Â  Â  Â  Â  Â  <h4>Ø¥Ø¯Ø±Ø§Ø¬ Ù‚Ø§Ù„Ø¨ Ø¬Ø§Ù‡Ø²</h4>
Â  Â  Â  Â  Â  Â  Â  Â  <div class="tags-grid"></div>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  <div class="tags-section" id="tags-section">
Â  Â  Â  Â  Â  Â  Â  Â  <h4>Ø¥Ø¯Ø±Ø§Ø¬ ÙˆØ³Ù…</h4>
Â  Â  Â  Â  Â  Â  Â  Â  <div class="tags-grid"></div>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  </div>
Â  Â  </div>
Â  Â  Â  Â  <div id="generationModalBg">
Â  Â  Â  Â  <div id="generationModal">
Â  Â  Â  Â  Â  Â  <div class="generation-header">
Â  Â  Â  Â  Â  Â  Â  Â  <h2>ğŸš€ ØªÙˆÙ„ÙŠØ¯ Ø£Ø³Ø¦Ù„Ø© Ø¨Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ</h2>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  <div class="generation-content">
Â  Â  Â  Â  Â  Â  Â  Â  <div class="generation-column">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h4>â‘  Ø£Ø¯Ø®Ù„ Ø§Ù„Ù…Ø­ØªÙˆÙ‰</h4>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <textarea id="gen-text-input" placeholder="Ø§Ù„ØµÙ‚ Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø¯Ø±Ø³ Ù‡Ù†Ø§..." style="width:100%; height: 200px; border-radius: 8px; border: 1px solid #d1d5db; padding: 10px; margin-bottom: 1rem;"></textarea>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <input type="file" id="gen-image-input" accept="image/*" style="display:none;">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div id="gen-image-drop-zone">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p>Ø§Ø³Ø­Ø¨ ÙˆØ£ÙÙ„Øª ØµÙˆØ±Ø© Ù‡Ù†Ø§ØŒ Ø£Ùˆ Ø§Ù†Ù‚Ø± Ù„Ù„Ø§Ø®ØªÙŠØ§Ø±</p>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <img id="gen-image-preview" style="display:none;">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  <div class="generation-column">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h4>â‘¡ Ø­Ø¯Ø¯ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª</h4>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div id="gen-q-types-container"></div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <hr style="margin: 1rem 0;">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="gen-q-type-row">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <label for="gen-multi-part-count">Ø³Ø¤Ø§Ù„ Ù…ØªØ¹Ø¯Ø¯ Ø§Ù„Ø£Ø¬Ø²Ø§Ø¡</label>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <input type="number" id="gen-multi-part-count" min="0" value="0">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <input type="text" id="gen-multi-part-types" placeholder="Ø£Ù†ÙˆØ§Ø¹ Ø§Ù„Ø£Ø¬Ø²Ø§Ø¡ (Ù…Ø«Ø§Ù„: mcq, string)">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <hr style="margin: 1rem 0;">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h4>â‘¢ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ) Ø£Ø¶Ù ØªÙˆØ¬ÙŠÙ‡Ø§Øª Ø®Ø§ØµØ©</h4>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <textarea id="gen-custom-prompt" placeholder="Ù…Ø«Ø§Ù„: Ø±ÙƒØ² Ø¹Ù„Ù‰ Ø§Ù„Ù…ÙØ§Ù‡ÙŠÙ… Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©ØŒ Ø§Ø¬Ø¹Ù„ Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ù„Ù„Ù…Ø±Ø­Ù„Ø© Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯ÙŠØ©..." style="width:100%; height: 100px; border-radius: 8px; border: 1px solid #d1d5db; padding: 10px;"></textarea>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  <div class="generation-footer">
Â  Â  Â  Â  Â  Â  Â  Â  <button id="modal-generate-btn" class="btn btn-primary">ØªÙˆÙ„ÙŠØ¯ Ø§Ù„Ø£Ø³Ø¦Ù„Ø©</button>
Â  Â  Â  Â  Â  Â  Â  Â  <button id="modal-cancel-btn" class="btn btn-secondary">Ø¥Ù„ØºØ§Ø¡</button>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  </div>
Â  Â  </div>
Â  Â  Â  Â  <div id="csvModalBg" role="dialog" aria-modal="true" aria-labelledby="csv-title">
Â  Â  Â  Â  <div id="csvModal">
Â  Â  Â  Â  Â  Â  <button id="csv-modal-close-btn" style="position:absolute; top:12px; left:12px; background:none; border:none; font-size:1.5em; cursor:pointer;" aria-label="Ø¥ØºÙ„Ø§Ù‚">Ã—</button>
Â  Â  Â  Â  Â  Â  <h2 id="csv-title" style="text-align:center; margin-bottom:18px; color:#4f46e5;">CSV Editor</h2>
Â  Â  Â  Â  Â  Â  <div class="csv-warning" id="csvWarning" style="display:none;"></div>
Â  Â  Â  Â  Â  Â  <div id="hotTable" class="hot-container"></div>
Â  Â  Â  Â  Â  Â  <div style="display:flex; gap:10px; justify-content:center; margin-top:18px;">
Â  Â  Â  Â  Â  Â  Â  Â  <button id="csv-save-btn" class="btn btn-success">ğŸ’¾ Ø­ÙØ¸</button>
Â  Â  Â  Â  Â  Â  Â  Â  <button id="csv-close-btn" class="btn btn-secondary">âŒ Ø¥ØºÙ„Ø§Ù‚</button>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  </div>
Â  Â  </div>
Â  Â  Â  Â  <div id="aiTemplateModalBg" role="dialog" aria-modal="true" aria-labelledby="ai-template-title">
Â  Â  Â  Â  <div id="aiTemplateModal">
Â  Â  Â  Â  Â  Â  <button id="ai-template-modal-close-btn" style="position:absolute; top:12px; left:12px; background:none; border:none; font-size:1.5em; cursor:pointer;" aria-label="Ø¥ØºÙ„Ø§Ù‚">Ã—</button>
Â  Â  Â  Â  Â  Â  <h2 id="ai-template-title" style="text-align:center; margin-bottom:18px; color:#4f46e5;">Set AI Template IDs</h2>
Â  Â  Â  Â  Â  Â  <div id="hotAiTemplateTable" class="hot-container"></div>
Â  Â  Â  Â  Â  Â  <div style="display:flex; gap:10px; justify-content:center; margin-top:18px;">
Â  Â  Â  Â  Â  Â  Â  Â  <button id="ai-template-save-btn" class="btn btn-success">ğŸ’¾ Ø­ÙØ¸</button>
Â  Â  Â  Â  Â  Â  Â  Â  <button id="ai-template-close-btn" class="btn btn-secondary">âŒ Ø¥ØºÙ„Ø§Ù‚</button>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  </div>
Â  Â  </div>
Â  Â  Â  Â  <div id="subjectTemplateModalBg" role="dialog" aria-modal="true" aria-labelledby="subject-template-title">
Â  Â  Â  Â  <div id="subjectTemplateModal">
Â  Â  Â  Â  Â  Â  <button id="subject-template-modal-close-btn" style="position:absolute; top:12px; left:12px; background:none; border:none; font-size:1.5em; cursor:pointer;" aria-label="Ø¥ØºÙ„Ø§Ù‚">Ã—</button>
Â  Â  Â  Â  Â  Â  <h2 id="subject-template-title" style="text-align:center; margin-bottom:18px; color:#4f46e5;">Ø§Ø®ØªØ± Ø§Ù„Ù…Ø§Ø¯Ø© Ù„ØªØ·Ø¨ÙŠÙ‚ Template ID</h2>
Â  Â  Â  Â  Â  Â  <div style="margin-bottom: 20px;">
Â  Â  Â  Â  Â  Â  Â  Â  <label for="subjectSelect" style="font-weight:bold; display:block; margin-bottom:10px;">Ø§Ù„Ù…Ø§Ø¯Ø© / Subject:</label>
Â  Â  Â  Â  Â  Â  Â  Â  <select id="subjectSelect" style="width:100%; padding:12px; border-radius:8px; border:2px solid #e5e7eb; font-size:14px;">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option value="">-- Ø§Ø®ØªØ± Ø§Ù„Ù…Ø§Ø¯Ø© --</option>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option value="Ø§Ù„Ø£Ø­ÙŠØ§Ø¡">Ø§Ù„Ø£Ø­ÙŠØ§Ø¡</option>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option value="Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ§Øª">Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ§Øª</option>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option value="Ø§Ù„Ø¹Ù„ÙˆÙ…">Ø§Ù„Ø¹Ù„ÙˆÙ…</option>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option value="Ø§Ù„Ø¹Ù„ÙˆÙ… Ø§Ù„Ù…ØªÙƒØ§Ù…Ù„Ø©">Ø§Ù„Ø¹Ù„ÙˆÙ… Ø§Ù„Ù…ØªÙƒØ§Ù…Ù„Ø©</option>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option value="Ø§Ù„ÙÙŠØ²ÙŠØ§Ø¡">Ø§Ù„ÙÙŠØ²ÙŠØ§Ø¡</option>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option value="Ø§Ù„ÙƒÙŠÙ…ÙŠØ§Ø¡">Ø§Ù„ÙƒÙŠÙ…ÙŠØ§Ø¡</option>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option value="Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©">Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</option>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option value="Ø§ÙƒØªØ´Ù">Ø§ÙƒØªØ´Ù</option>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option value="Ø§Ù„ØªØ§Ø±ÙŠØ®">Ø§Ù„ØªØ§Ø±ÙŠØ®</option>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option value="Ø§Ù„Ø¬ØºØ±Ø§ÙÙŠØ§">Ø§Ù„Ø¬ØºØ±Ø§ÙÙŠØ§</option>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option value="Ø§Ù„Ø¯Ø±Ø§Ø³Ø§Øª Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠØ©">Ø§Ù„Ø¯Ø±Ø§Ø³Ø§Øª Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠØ©</option>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option value="Ø§Ù„ÙÙ„Ø³ÙØ© ÙˆØ§Ù„Ù…Ù†Ø·Ù‚">Ø§Ù„ÙÙ„Ø³ÙØ© ÙˆØ§Ù„Ù…Ù†Ø·Ù‚</option>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option value="Ø¹Ù„Ù… Ø§Ù„Ù†ÙØ³ ÙˆØ§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹">Ø¹Ù„Ù… Ø§Ù„Ù†ÙØ³ ÙˆØ§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹</option>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option value="Biologie">Biologie</option>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option value="Biology">Biology</option>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option value="Chemistry">Chemistry</option>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option value="Connect Plus">Connect Plus</option>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option value="Discover">Discover</option>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option value="English">English</option>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option value="Integrated Science">Integrated Science</option>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option value="Mathematics">Mathematics</option>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option value="Physics">Physics</option>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option value="Science">Science</option>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option value="Sciences">Sciences</option>
Â  Â  Â  Â  Â  Â  Â  Â  </select>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  <div id="subjectQuestionsPreview" style="margin-bottom:20px; max-height:300px; overflow-y:auto; border:1px solid #e2e8f0; border-radius:8px; padding:15px; background:#f8fafc;">
Â  Â  Â  Â  Â  Â  Â  Â  <p style="text-align:center; color:#6b7280;">Ø³ØªØ¸Ù‡Ø± Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ù…Ø¤Ù‡Ù„Ø© Ù‡Ù†Ø§ Ø¨Ø¹Ø¯ Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ù…Ø§Ø¯Ø©</p>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  <div style="display:flex; gap:10px; justify-content:center; margin-top:18px;">
Â  Â  Â  Â  Â  Â  Â  Â  <button id="subject-template-save-btn" class="btn btn-success">ğŸ’¾ ØªØ·Ø¨ÙŠÙ‚</button>
Â  Â  Â  Â  Â  Â  Â  Â  <button id="subject-template-close-btn" class="btn btn-secondary">âŒ Ø¥ØºÙ„Ø§Ù‚</button>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  </div>
Â  Â  </div>
Â  Â  Â  Â  <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js" crossorigin="anonymous"></script>
Â  Â  <script src="https://cdn.jsdelivr.net/npm/dompurify@3.0.6/dist/purify.min.js" crossorigin="anonymous"></script>
Â  Â  <script src="https://cdn.jsdelivr.net/npm/handsontable@14.3.0/dist/handsontable.min.js"></script>
Â  Â  <script src="https://unpkg.com/mathlive"></script>
Â  Â  <script>
Â  Â  document.addEventListener('DOMContentLoaded', () => {
Â  Â  Â  Â  class AIQuestionConverter {
Â  Â  Â  Â  Â  Â  // Source ID data
Â  Â  Â  Â  Â  Â  sourceIdData = [
Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 314104834603, name: 'abdelrahman.taha@nagwa.com' }, { source_id: 743127867978, name: 'abdelrahman.toraya@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 915157263490, name: 'ahmed.abdullah@nagwa.com' }, { source_id: 582103718642, name: 'ahmed.mansour@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 852152386193, name: 'amal.abdelwahaab@nagwa.com' }, { source_id: 363101910619, name: 'amira.ahmad@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 969141357647, name: 'amira.mohsen@nagwa.com' }, { source_id: 495183190468, name: 'aya.elshaheny@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 734172083271, name: 'eman.farouk@nagwa.com' }, { source_id: 186142928704, name: 'abdalrahman.mohamed@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 670149460968, name: 'abdellatif.meshref@nagwa.com' }, { source_id: 798193794391, name: 'abdullah.omar@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 320146508191, name: 'ahmed.abdelghaffar@nagwa.com' }, { source_id: 568172629218, name: 'ahmed.ginidi@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 939194952908, name: 'ahmed.magraalneel@nagwa.com' }, { source_id: 904175235414, name: 'ahmed.mohamed@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 813189691358, name: 'ahmed.ragab@nagwa.com' }, { source_id: 309107619576, name: 'ahmed.rahmy@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 198132915098, name: 'ahmed.shoeib@nagwa.com' }, { source_id: 810104279180, name: 'alaa.elgallab@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 976157364031, name: 'alessandra.battistelli@nagwa.com' }, { source_id: 367187313289, name: 'alex.collins@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 962123745478, name: 'alzahraa.elsayed@nagwa.com' }, { source_id: 630126405463, name: 'amanda.winn@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 387160951260, name: 'amany.hassan@nagwa.com' }, { source_id: 567182705230, name: 'amira.doghaiem@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 658131209030, name: 'amira.elsaady@nagwa.com' }, { source_id: 753136182320, name: 'amira.rashad@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 540175279150, name: 'amr.abdelhakim@nagwa.com' }, { source_id: 660341756260, name: 'amr.khattab@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 456170383670, name: 'amr.sobhy@nagwa.com' }, { source_id: 802165404853, name: 'amy.obrien@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 498148235147, name: 'andre.pegeron@nagwa.com' }, { source_id: 938189854643, name: 'andrew.catanese@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 978107247356, name: 'anita.piatek@nagwa.com' }, { source_id: 168170145619, name: 'anna.gilbert@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 810178027057, name: 'anne-claire.dupuis@nagwa.com' }, { source_id: 389194237254, name: 'aryeh.krischer@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 360528767742, name: 'ashraf.omara@nagwa.com' }, { source_id: 583151471710, name: 'aya.emam@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 789171397037, name: 'aya.khaled@nagwa.com' }, { source_id: 438153757180, name: 'aya.mohamed@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 939153820125, name: 'bailey.miller@nagwa.com' }, { source_id: 819120860581, name: 'beejal.parbhoo@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 314185910980, name: 'benjamin.milnes@nagwa.com' }, { source_id: 680128161730, name: 'cara.sullivan@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 285176950135, name: 'catherine.carney@nagwa.com' }, { source_id: 236136940914, name: 'claire.piochon@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 380156798067, name: 'dahlia.hesham@nagwa.com' }, { source_id: 304840675231, name: 'dalia.frag@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 197107685076, name: 'dalia.saber@nagwa.com' }, { source_id: 934103738395, name: 'damien.jefferies@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 907175717841, name: 'dan.brittain@nagwa.com' }, { source_id: 576123059865, name: 'darius.garewal@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 127168617029, name: 'david.arnold@nagwa.com' }, { source_id: 818145323631, name: 'debasmita.ojha@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 136138626589, name: 'debra.karhson@nagwa.com' }, { source_id: 762127275840, name: 'diaa.ashraf@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 350120505319, name: 'digby.chappell@nagwa.com' }, { source_id: 348191246181, name: 'ed.burdette@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 732174681402, name: 'eman.abdelhamid@nagwa.com' }, { source_id: 878162694042, name: 'eman.muhammad@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 428175626765, name: 'eman.salah@nagwa.com' }, { source_id: 604185853180, name: 'emily.moseley@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 535120818246, name: 'emily.taylor@nagwa.com' }, { source_id: 316138139028, name: 'enas.elmohammady@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 259124985854, name: 'enas.elsobhy@nagwa.com' }, { source_id: 804149018179, name: 'fallon.simpson@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 673102459730, name: 'fathia.sobhi@nagwa.com' }, { source_id: 636163252185, name: 'fatma.mahmoud@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 897154523715, name: 'flavia.hodel@nagwa.com' }, { source_id: 214123842049, name: 'francesca.childs@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 658191560261, name: 'gabriel.martin@nagwa.com' }, { source_id: 905156363236, name: 'gabrielle.malo@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 703145379267, name: 'ehab.mahmud@nagwa.com' }, { source_id: 328158489094, name: 'ahmed.sayed@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 808120576893, name: 'fatma.roshdy@nagwa.com' }, { source_id: 914130708535, name: 'geraldine.bourgeon@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 309176585370, name: 'ghada.osam@nagwa.com' }, { source_id: 404123129714, name: 'ghadeer.mostafa@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 819145047216, name: 'dina.ali@nagwa.com' }, { source_id: 894176946498, name: 'amira.elkholy@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 175196786128, name: 'ahmed.sabra@nagwa.com' }, { source_id: 719130548578, name: 'fatema.samy@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 318148214878, name: 'ahmed.salem@nagwa.com' }, { source_id: 937145789737, name: 'esraa.shahien@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 746172148370, name: 'aya.shaaban@nagwa.com' }, { source_id: 965154318280, name: 'aya.eltwancy@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 326106398487, name: 'eman.omar@nagwa.com' }, { source_id: 365138267632, name: 'ahmed.raafat@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 708176801247, name: 'alaa.emary@nagwa.com' }, { source_id: 212194986282, name: 'ahmed.elbanna@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 317150941798, name: 'amaal.abdelaziz@nagwa.com' }, { source_id: 803134190189, name: 'bedour.zahran@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 643164068106, name: 'aya.abulmagd@nagwa.com' }, { source_id: 337614157860, name: 'ayat.tamim@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 474164583535, name: 'abeer.fouad@nagwa.com' }, { source_id: 387162583986, name: 'ahmed.medra@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 120171982460, name: 'ahmed.alhefny@nagwa.com' }, { source_id: 895127097864, name: 'gordonjoel.meyer@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 793186820985, name: 'graham.ely@nagwa.com' }, { source_id: 802176327015, name: 'hadeer.abdelhay@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 752104714650, name: 'hala.nasouh@nagwa.com' }, { source_id: 619137128302, name: 'hanan.iesa@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 208127196157, name: 'harry.shuttleworth@nagwa.com' }, { source_id: 915143059179, name: 'hasnaa.aitbaha@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 960171705257, name: 'heather.drewett@nagwa.com' }, { source_id: 564148628625, name: 'heather.jezorek@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 142147919414, name: 'heba.elsherif@nagwa.com' }, { source_id: 989145183086, name: 'heba.sadek@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 742173813751, name: 'hisham.reda@nagwa.com' }, { source_id: 216170252391, name: 'hoda.shawky@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 839103931392, name: 'hossam.mohamed@nagwa.com' }, { source_id: 579152932527, name: 'hussein.magdy@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 254108313537, name: 'ibrahim.anwar@nagwa.com' }, { source_id: 286182381245, name: 'ibrahim.elbagoury@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 504130932870, name: 'islam.magdy@nagwa.com' }, { source_id: 607194519759, name: 'israa.kotb@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 329186759405, name: 'jaillan.elrafey@nagwa.com' }, { source_id: 718130607823, name: 'james.gudge@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 452143830658, name: 'joseph.mcnulty@nagwa.com' }, { source_id: 436156380571, name: 'joylyn.weikum@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 505104272417, name: 'julie.haviland@nagwa.com' }, { source_id: 264146849363, name: 'juliet.perry@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 959157375383, name: 'kathryn.kingham@nagwa.com' }, { source_id: 415156093421, name: 'kelly.fringer@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 745102051694, name: 'kerolis.shehata@nagwa.com' }, { source_id: 865190945914, name: 'khadija.abdelfattah@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 462158197608, name: 'kylee.long@nagwa.com' }, { source_id: 910165421706, name: 'lara.amusan@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 918190346401, name: 'lauren.mcnaughten@nagwa.com' }, { source_id: 147146249089, name: 'levi.klankowski@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 703150291949, name: 'lloyd.connellan@nagwa.com' }, { source_id: 832103128745, name: 'luke.hatfield@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 495128347429, name: 'mae.saafan@nagwa.com' }, { source_id: 839134018180, name: 'maha.abdelmoneim@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 427148783504, name: 'mahmoud.mohammed@nagwa.com' }, { source_id: 324187235816, name: 'mahmoud.salheen@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 642163674058, name: 'mai.farouk@nagwa.com' }, { source_id: 498157574297, name: 'marcus.taylor@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 169159894032, name: 'mariam.khaled@nagwa.com' }, { source_id: 347130890658, name: 'mariam.tarek@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 243159695028, name: 'marwa.shehata@nagwa.com' }, { source_id: 952120140364, name: 'marwa.taha@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 518141904047, name: 'michael.halim@nagwa.com' }, { source_id: 674125024324, name: 'miriam.carterfraser@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 495103549506, name: 'mirna.yasser@nagwa.com' }, { source_id: 635160624265, name: 'mohamad.gamal@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 392124142656, name: 'mohamed.abdelrhman@nagwa.com' }, { source_id: 510124020952, name: 'mohamed.amin@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 654169891374, name: 'mohamed.darwish@nagwa.com' }, { source_id: 215151528545, name: 'mohamed.ezzeldin@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 407152960816, name: 'mohamed.fathy@nagwa.com' }, { source_id: 127196204513, name: 'mohamed.fawzy@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 249159575865, name: 'mohamed.ibrahim@nagwa.com' }, { source_id: 872185621013, name: 'mohamed.khalil@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 865187829357, name: 'mohamed.magdy@nagwa.com' }, { source_id: 930168206797, name: 'gehad.mahmoud@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 709186750268, name: 'gerges.yousef@nagwa.com' }, { source_id: 619153120948, name: 'lamis.saeed@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 408143460578, name: 'marwa.hany@nagwa.com' }, { source_id: 280127867580, name: 'ismaiel.gamaleldin@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 583191979837, name: 'maram.khater@nagwa.com' }, { source_id: 736103401087, name: 'moaaz.hagag@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 627181736159, name: 'mohamed.elwakeel@nagwa.com' }, { source_id: 136154282452, name: 'israa.abdelkarim@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 376109834614, name: 'hanady.gamal@nagwa.com' }, { source_id: 135103962931, name: 'mohamed.nabil@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 757140165893, name: 'mohamed.talaat@nagwa.com' }, { source_id: 318178172082, name: 'mohammed.ramadan@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 973134316315, name: 'mohammed.kamal@nagwa.com' }, { source_id: 918161628616, name: 'mohamed.elshaka@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 546129780836, name: 'mariam.kotb@nagwa.com' }, { source_id: 967191273406, name: 'mahinour.tawfik@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 168190608585, name: 'mohmmad.qenawy@nagwa.com' }, { source_id: 215104534508, name: 'morgan.taveras@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 594158694782, name: 'mostafa.abdelsabour@nagwa.com' }, { source_id: 736198678340, name: 'mostafa.mahmoud@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 464168263468, name: 'magdy.younis@nagwa.com' }, { source_id: 959153294685, name: 'mohamed.mahmoudy@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 747185926028, name: 'mariam.yahia@nagwa.com' }, { source_id: 757101691847, name: 'marina.zaki@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 698165698458, name: 'heba.eltarabishy@nagwa.com' }, { source_id: 676130390838, name: 'hussein.mahmoud@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 517162017961, name: 'marwah.ahmad.helaly@nagwa.com' }, { source_id: 345171316462, name: 'ghada.elashry@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 368142801213, name: 'mahmoud.aboelmagd@nagwa.com' }, { source_id: 127196862036, name: 'mohammad.hossein@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 617126437323, name: 'mohamed.eid@nagwa.com' }, { source_id: 985124920590, name: 'mazen.gad@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 952139328620, name: 'kareem.nashat@nagwa.com' }, { source_id: 475149294140, name: 'gehan.khaled@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 945145262849, name: 'marie.maccaig@nagwa.com' }, { source_id: 849836164084, name: 'muhammad.farouk@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 752198519039, name: 'hend.abdelmalek@nagwa.com' }, { source_id: 504190958067, name: 'heba.ghoneim@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 284108073840, name: 'mai.sherif@nagwa.com' }, { source_id: 709169689048, name: 'muhammad.hashem@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 352171762824, name: 'nada.amr@nagwa.com' }, { source_id: 309190625604, name: 'nada.hassaneen@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 905125258656, name: 'nada.kamal@nagwa.com' }, { source_id: 768169353638, name: 'nadin.hassan@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 708195163726, name: 'namrata.olimattel@nagwa.com' }, { source_id: 109120608408, name: 'nancy.lotfy@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 873140659245, name: 'naomi.holland@nagwa.com' }, { source_id: 214153025202, name: 'neveen.abdelhakim@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 832128021242, name: 'noha.mostafa@nagwa.com' }, { source_id: 796130127979, name: 'nohayr.ali@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 862191709297, name: 'nourhan.gamil@nagwa.com' }, { source_id: 987190350914, name: 'nourhan.younis@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 519179193151, name: 'oliver.rigg@nagwa.com' }, { source_id: 427135275809, name: 'omar.elshazly@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 39054475743, name: 'omnia.hussein@nagwa.com' }, { source_id: 595147048923, name: 'omnia.ibrahim@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 953192613695, name: 'osama.abdelmoez@nagwa.com' }, { source_id: 584154879674, name: 'pam.jones@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 472186274352, name: 'parth.gharfalkar@nagwa.com' }, { source_id: 254107473215, name: 'paul.wrangles@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 134160965931, name: 'philippa.crick@nagwa.com' }, { source_id: 716138671536, name: 'rachel.george@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 175101587891, name: 'rachel.oosthuizen@nagwa.com' }, { source_id: 32127148021, name: 'radwa.ali@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 309164035618, name: 'rahma.tarek@nagwa.com' }, { source_id: 504132724329, name: 'rana.ashraf@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 503159060958, name: 'rania.fahmy@nagwa.com' }, { source_id: 743136248085, name: 'rania.wahdan@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 462158042576, name: 'rasha.mohsen@nagwa.com' }, { source_id: 758137924974, name: 'rebecca.corden@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 658169564058, name: 'rebecca.keller@nagwa.com' }, { source_id: 236140486914, name: 'reham.elkholy@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 580178428347, name: 'rhodri.jones@nagwa.com' }, { source_id: 579197481213, name: 'riham.saleh@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 745172160404, name: 'robert.ellmore@nagwa.com' }, { source_id: 328140493832, name: 'robert.russell@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 192145305197, name: 'sahar.samir@nagwa.com' }, { source_id: 690121534014, name: 'sally.christmas@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 280146452943, name: 'sarah.farouk@nagwa.com' }, { source_id: 752109649258, name: 'sarah.garry@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 946185974395, name: 'sean.lauber@nagwa.com' }, { source_id: 594168692017, name: 'seungly.oh@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 847120158758, name: 'shaimaa.malek@nagwa.com' }, { source_id: 472182053407, name: 'shannon.monks@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 360169565672, name: 'shereen.osman@nagwa.com' }, { source_id: 563153963712, name: 'sherif.khalil@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 526108432725, name: 'simeon.every@nagwa.com' }, { source_id: 424167960140, name: 'sneha.krishnamurthy@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 724163101078, name: 'sohaila.mohsen@nagwa.com' }, { source_id: 929179241308, name: 'stephen.currie@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 302175157840, name: 'tarek.monir@nagwa.com' }, { source_id: 907139471258, name: 'tim.burnham@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 145129517432, name: 'timothy.sit@nagwa.com' }, { source_id: 837194975726, name: 'usamah.khalid@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 947175758914, name: 'wageih.soliman@nagwa.com' }, { source_id: 234143262138, name: 'warda.mokhtar@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 269150537947, name: 'william.hornbrook@nagwa.com' }, { source_id: 179124692670, name: 'yara.abdelaal@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 963156357525, name: 'yasmeen.elaraby@nagwa.com' }, { source_id: 738163182548, name: 'yasser.selim@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 342147278040, name: 'youssef.abdelmaksoud@nagwa.com' }, { source_id: 468105976487, name: 'enas.mahdy@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 485136431282, name: 'ahmed.hindawi@nagwa.com' }, { source_id: 602123625931, name: 'noha.abdelrazik@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 987456719712, name: 'mohamed.abdelalem@nagwa.com' }, { source_id: 568105165059, name: 'sara.abdelaziz@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 828137430379, name: 'shorouk.khaled@nagwa.com' }, { source_id: 608151093040, name: 'hagar.ali@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 673139040161, name: 'neveen.helmy@nagwa.com' }, { source_id: 792180794127, name: 'fatma.sultan@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 264184518383, name: 'andrew.kitchin@nagwa.com' }, { source_id: 268152904956, name: 'mohammed.saad@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 354135052858, name: 'kamal.mostafa@nagwa.com' }, { source_id: 510159583735, name: 'mahmoud.elneweshy@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 867159606861, name: 'rehab.fawzy@nagwa.com' }, { source_id: 270160860196, name: 'shereen.fouad@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 537148319827, name: 'dalia.kamal@nagwa.com' }, { source_id: 705107850630, name: 'eman.salem@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 249173189630, name: 'mohamed.emadeldin@nagwa.com' }, { source_id: 876179218756, name: 'basma.sherif@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 105126414395, name: 'monia.elwakeel@nagwa.com' }, { source_id: 590173795378, name: 'sammar.zakaria@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 190183287598, name: 'soha.nasreldin@nagwa.com' }, { source_id: 698648148076, name: 'sarah.hassan@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 894168289463, name: 'nagwa.reda@nagwa.com' }, { source_id: 209168454958, name: 'ramy.magdy@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 723147417356, name: 'sara.ramadan@nagwa.com' }, { source_id: 894128580787, name: 'yomna.bayoumi@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 634194140283, name: 'samah.abdelfattah@nagwa.com' }, { source_id: 272128153864, name: 'mahmoud.elzomor@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 618146184254, name: 'yara.sobhy@nagwa.com' }, { source_id: 364164635329, name: 'nourhan.saied@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 710158723939, name: 'noha.ezzat@nagwa.com' }, { source_id: 439168676721, name: 'rasha.basha@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 476107574235, name: 'rabie.eldoha@nagwa.com' }, { source_id: 698106520137, name: 'salma.zaki@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 978128962893, name: 'nihal.essmat@nagwa.com' }, { source_id: 154106968213, name: 'zeina.elsheikh@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 310134129623, name: 'reda.jebril@nagwa.com' }, { source_id: 927169194769, name: 'salma.hafez@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 872103252787, name: 'heba.adel@nagwa.com' }, { source_id: 873179621316, name: 'samaa.eltanawy@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 916174061960, name: 'sara.soliman@nagwa.com' }, { source_id: 853106948071, name: 'mohamed.tarek@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 123456789012, name: 'fatma.habib@nagwa.com' }, { source_id: 258147369789, name: 'enas.mohamed@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 259159095185, name: 'toka.aly@nagwa.com' }, { source_id: 760130128289, name: 'abdelazim.beidas@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 415151639694, name: 'shaker.hamdi@nagwa.com' }, { source_id: 784191574927, name: 'ayman.elsibaie@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 302194323261, name: 'abdelmonem.mohamed@nagwa.com' }, { source_id: 760174692735, name: 'alaa.ahmed@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 148108285685, name: 'attya.attya@nagwa.com' }, { source_id: 429107598090, name: 'amr.ramadan@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 593109319363, name: 'lobna.ahmed@nagwa.com' }, { source_id: 718176767987, name: 'khadija.saad@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 340171769083, name: 'ayman.farag@nagwa.com' }, { source_id: 492194298907, name: 'abdelrahman.elsadek@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 380165418413, name: 'khadija.muhammad@nagwa.com' }, { source_id: 325167372908, name: 'mohamed.hegazy@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 647178381548, name: 'heba.mahmoud@nagwa.com' }, { source_id: 809182160679, name: 'nelly.nasser@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 258164501610, name: 'amany.fergany@nagwa.com' }, { source_id: 928106378980, name: 'ehab.elgawady@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 286128939638, name: 'aya.abdelrahman@nagwa.com' }, { source_id: 723194238792, name: 'hanan.saad@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 785102157610, name: 'antwan.rizk@nagwa.com' }, { source_id: 689120234340, name: 'nouthayla.magdy@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 367124216873, name: 'hossam.hassan@nagwa.com' }, { source_id: 359193429068, name: 'mohamed.sayed@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 486193781754, name: 'mariam.zaki@nagwa.com' }, { source_id: 963149619723, name: 'moataz.mohamed@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 805183060731, name: 'wafaa.yehia@nagwa.com' }, { source_id: 202162942982, name: 'ahmed.abdelmoniem@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 183147396259, name: 'huda.twfik@nagwa.com' }, { source_id: 784103283656, name: 'marina.toma@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 865150974316, name: 'hussam.salah@nagwa.com' }, { source_id: 125143418905, name: 'mohamed.sallam@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 146124021718, name: 'mohamed.hamdi@nagwa.com' }, { source_id: 315163104517, name: 'rody.samy@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 432131578531, name: 'ameer.omar@nagwa.com' }, { source_id: 480168626860, name: 'dina.amin@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 637108501093, name: 'nora.mostafa@nagwa.com' }, { source_id: 364142760518, name: 'salma.tarek@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 656186570875, name: 'nada.salama@nagwa.com' }, { source_id: 863140923782, name: 'zeinab.adel@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 934195097582, name: 'hagar.elbatal@nagwa.com' }, { source_id: 0, name: 'hoda.ayoub@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 424174364659, name: 'hadeer.hussein@nagwa.com' }, { source_id: 714152985297, name: 'ahmad.saeed@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 548127510737, name: 'zeinab.nabih@nagwa.com' }, { source_id: 587170578520, name: 'huda.tawfik@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 637157279691, name: 'mazen.emad@nagwa.com' }, { source_id: 570104968128, name: 'dina.kamal@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 315135204893, name: 'kerolouse.franciess@nagwa.com' }, { source_id: 803172646718, name: 'rasha.bekhit@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 360197039043, name: 'sofana.albahi@nagwa.com' }, { source_id: 715125986801, name: 'badr.oraby@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 590189895847, name: 'madonna.milad@nagwa.com' }, { source_id: 105108603275, name: 'khaled.saeed@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 857103641397, name: 'ahmed.shaarawy@nagwa.com' }, { source_id: 389176391532, name: 'mahmoud.elashry@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 315135204892, name: 'shimaa.mahmoud@nagwa.com' }, { source_id: 973103243124, name: 'rehab.medhat@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 958165085253, name: 'aya.gaber@nagwa.com' }, { source_id: 964126973921, name: 'nadine.raafat@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 734130434960, name: 'ahmed.hatem@nagwa.com' }, { source_id: 174181235606, name: 'zeyad.aql@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 412472830111, name: 'kawthar.mohamed@nagwa.com' }, { source_id: 320170709096, name: 'essam.omar@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 760154814164, name: 'heba.youssef@nagwa.com' }, { source_id: 935140803730, name: 'ahmed.morsi@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 853152057854, name: 'esther.villegasdelatorre@nagwa.com' }, { source_id: 746191310389, name: 'cds.tscript.sub.rev.1@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 905187850275, name: 'heba.yehia@nagwa.com' }, { source_id: 939167341860, name: 'reem.metwally@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 652137698435, name: 'hagar.mohsen@nagwa.com' }, { source_id: 878159013086, name: 'ahmed.ramadan@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 120187615309, name: 'mohamed.younnes@nagwa.com' }, { source_id: 267176825827, name: 'mohamed.araby@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 415190915306, name: 'ibrahim.ali@nagwa.com' }, { source_id: 160181941723, name: 'ameera.mohamed@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 570464765580, name: 'mohamed.genaidy@nagwa.com' }, { source_id: 294102508567, name: 'asmaa.ahmed@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 130196195493, name: 'mahmoud.sayed@nagwa.com' }, { source_id: 954134694753, name: 'hosam.kassem@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 218127341740, name: 'sayed.mohamed@nagwa.com' }, { source_id: 687101641397, name: 'rahma.ashraf@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 840193238059, name: 'ghada.elewa@nagwa.com' }, { source_id: 819178319024, name: 'monica.sidhom@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 769164617401, name: 'mohammed.elsayed.ramadan@nagwa.com' }, { source_id: 670136979720, name: 'moaz.saleh@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 593148528191, name: 'mohamed.hosny@nagwa.com' }, { source_id: 794169383606, name: 'mostafa.abdelhalim@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 769145326739, name: 'nourhan.alaaeldin@nagwa.com' }, { source_id: 927109361075, name: 'nader.atef@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 732107039548, name: 'mohamed.elhamouly@nagwa.com' }, { source_id: 424182093137, name: 'mostafa.alaa@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 605173125053, name: 'eslam.mohamed@nagwa.com' }, { source_id: 856196980834, name: 'asmaa.yousry@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 936185082745, name: 'zeinab.zaki@nagwa.com' }, { source_id: 180120387643, name: 'emily.postles@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 616193818038, name: 'soria.ibrahim@nagwa.com' }, { source_id: 123450987654, name: 'amira.mohamed@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 186162343817, name: 'eman.sawabi@nagwa.com' }, { source_id: 436193847890, name: 'hanaa.fouad@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 603178979628, name: 'noha.mousa@nagwa.com' }, { source_id: 934148451632, name: 'hanna.hodgson@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 418123749852, name: 'rebecca.clifton@nagwa.com' }, { source_id: 814149845184, name: 'ahmed.alaa@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 879158194074, name: 'nour.bahgat@nagwa.com' }, { source_id: 478179147017, name: 'kerolous.amged@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 740102957170, name: 'mohamed.elsayed@nagwa.com' }, { source_id: 923137697053, name: 'salma.farag@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 628147168986, name: 'mostafa.taha@nagwa.com' }, { source_id: 496137370693, name: 'dsfsdfd@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 692132635438, name: 'stephanie.mauro@nagwa.com' }, { source_id: 349139419030, name: 'gabriela.hallas@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 972186956519, name: 'abdallah.hassan@nagwa.com' }, { source_id: 125162830402, name: 'ahmed.yahya@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 393154181873, name: 'shrouk.samir@nagwa.com' }, { source_id: 705185973512, name: 'salma.hatem@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 216143404140, name: 'aliaa.adel@nagwa.com' }, { source_id: 254108051897, name: 'tarek.sleem@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 424185975219, name: 'marwa.mohie@nagwa.com' }, { source_id: 232192545124, name: 'erin.wilson@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 805189370751, name: 'hend.elhusseiny@nagwa.com' }, { source_id: 484168062929, name: 'kamel.sayed@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 809124795010, name: 'mohamed.abdelfattah@nagwa.com' }, { source_id: 807134254237, name: 'mohamed.mourad@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 840195406328, name: 'radwa.sabry@nagwa.com' }, { source_id: 740123086282, name: 'sss@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 931108264346, name: 'maii.sameh@nagwa.com' }, { source_id: 295197069742, name: 'madonna.metry@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 174160521690, name: 'aya.medhat@nagwa.com' }, { source_id: 147184646738, name: 'taher.abdelhady@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 635167537939, name: 'ahmed.abdellatif@nagwa.com' }, { source_id: 185102681686, name: 'mohamed.emam@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 307125819138, name: 'shady.khaled@nagwa.com' }, { source_id: 753132639563, name: 'sameh.sadek@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 737106793085, name: 'omar.essam@nagwa.com' }, { source_id: 743179752514, name: 'heba.ghazaly@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 427130104357, name: 'nourelhoda.abdelaziz@nagwa.com' }, { source_id: 367182925949, name: 'zeinab.elshenawy@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 963163430437, name: 'shady.donia@nagwa.com' }, { source_id: 145172635718, name: 'yasmine.nasr@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 185198317034, name: 'sara.mohamed@nagwa.com' }, { source_id: 215178624531, name: 'rana.hassan@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 626137830726, name: 'nourhan.hassan@nagwa.com' }, { source_id: 413176194352, name: 'noha.elghoniemy@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 864123085261, name: 'salma.ayman@nagwa.com' }, { source_id: 375135763692, name: 'mohamed.ismail@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 235120752920, name: 'joumana.farag@nagwa.com' }, { source_id: 986197167612, name: 'karima.mahmoud@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 147104760597, name: 'rana.antar@nagwa.com' }, { source_id: 168124952185, name: 'alice.herridge@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 679180375094, name: 'abdallah.mohamed@nagwa.com' }, { source_id: 725162564962, name: 'nicolo.bazzi@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 509142545710, name: 'hebtollah.mosa@nagwa.com' }, { source_id: 694164363692, name: 'samar.bahaaeldin@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 617180919760, name: 'nourhan.hashad@nagwa.com' }, { source_id: 137105142619, name: 'esraa.saeed@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 942130798452, name: 'aiat.saied@nagwa.com' }, { source_id: 404194328764, name: 'mohamed.hedeya@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 172130285640, name: 'mohamed.hani@nagwa.com' }, { source_id: 630190153019, name: 'howaida.saber@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 289150706195, name: 'yomna.gameel@nagwa.com' }, { source_id: 653101624283, name: 'taher.abdelhadyddddd@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 749135848015, name: 'ingi.radwan@nagwa.com' }, { source_id: 896129153294, name: 'doha.fahmy@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 174152535791, name: 'radwa.muhammad@nagwa.com' }, { source_id: 673167025619, name: 'haytham.mahmoud@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 564143962161, name: 'nour.elborno@nagwa.com' }, { source_id: 534107915239, name: 'noha.mokhtar@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 604169348956, name: 'menna.hamdy@nagwa.com' }, { source_id: 424192489189, name: 'hady.nabil@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 473181014731, name: 'ramy.farouk@nagwa.com' }, { source_id: 834104670309, name: 'medhat.ali@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 475136389247, name: 'mohamed.ahmed.kamal@nagwa.com' }, { source_id: 592153108121, name: 'cds.tscript.qa.1@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 456157376139, name: 'maria.martinez@nagwa.com' }, { source_id: 906195414769, name: 'ahmed.hamad@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 458131045164, name: 'cds.tscript.ce.1@nagwa.com' }, { source_id: 825167819068, name: 'benedicte.barrett@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 346102987238, name: 'amany.talaat@nagwa.com' }, { source_id: 534193284374, name: 'sara.gamal@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 725149525389, name: 'israa.ibrahim@nagwa.com' }, { source_id: 570106179431, name: 'sara.badwy@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 906134617686, name: 'menna.ayman@nagwa.com' }, { source_id: 168174573895, name: 'malak.aliwy@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 835193040729, name: 'cds.tscript.rev.1@nagwa.com' }, { source_id: 262184039598, name: 'taha.hassan@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 583147318469, name: 'abeer.abdelaziz@nagwa.com' }, { source_id: 304105618950, name: 'faten.sayed@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 182136230818, name: 'mariam.ghonaim@nagwa.com' }, { source_id: 865190148085, name: 'menna.elsanhoury@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 925171517156, name: 'lobna.adel@nagwa.com' }, { source_id: 523153132509, name: 'haya.khaled@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 562196032364, name: 'sherry.sawires@nagwa.com' }, { source_id: 862172412125, name: 'mayar.fathy@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 183197425670, name: 'mirna.atef@nagwa.com' }, { source_id: 494153106570, name: 'ibrahim.eldahan@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 826154029457, name: 'eman.hamdi@nagwa.com' }, { source_id: 312126191387, name: 'aya.ramadan@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 786124121423, name: 'test_dahan@nagwa.com' }, { source_id: 969143627625, name: 'sameh.elsayed@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 746121902861, name: 'walid.rahoma@nagwa.com' }, { source_id: 418125715718, name: 'abdualeem.hosny@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 896170732925, name: 'test@nagwa.com' }, { source_id: 796184759657, name: 'ahmed.dawoud@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 865190276198, name: 'hussein.mostafa@nagwa.com' }, { source_id: 762197039686, name: 'eriene.samir@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 168196964239, name: 'georgette.rizk@nagwa.com' }, { source_id: 798157985869, name: 'ahmed.tolba@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 480146765805, name: 'rehab.atia@nagwa.com' }, { source_id: 293106707912, name: 'kyrillos.khairy@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 549158576383, name: 'mohamed.elgharabawi@nagwa.com' }, { source_id: 135147615340, name: 'zaynab.abdulsattar@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 759178931095, name: 'bouthyna.tarek@nagwa.com' }, { source_id: 238173260548, name: 'cds.system@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 147127372052, name: 'khaled.ghaly@nagwa.com' }, { source_id: 540185395059, name: 'mariam.elaasser@nagwa.com' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { source_id: 243194710465, name: 'aliaa.fikry@nagwa.com' }
Â  Â  Â  Â  Â  Â  ];
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  constructor() {
Â  Â  Â  Â  Â  Â  Â  Â  // --- 1. CONFIGURATION ---
Â  Â  Â  Â  Â  Â  Â  Â  this.config = Object.freeze({
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  api: {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  geminiEndpoint: 'https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent?key=',
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  openaiEndpoint: 'https://api.openai.com/v1/chat/completions'
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  defaults: {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  country: 'eg',
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  category: 'lesson',
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  dialect: 'Modern_standard',
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  sourceId: 182136230818,
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  lang: 'ar',
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  direction: 'vertical' // Default direction for OQ
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  flags: {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  convertArabicLatex: false
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ARABIC_LATEX_MAP: {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  "F(x)": "\\dotlessqaft (\\seen)", "Q'": "\\dotlessnoont \\prime", 'N': '\\tah', 'Z': '\\sadt',
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  'Q': '\\dotlessnoont', 'X': '\\seent', 'Y': '\\sadt', 'x': '\\seen', 'y': '\\sad',
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  'z': '\\ain', 'A': '\\alt{\\alef}', 'B': '\\beh', 'C': '\\jeemi', 'D': '\\dal',
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  'E': '\\hehi', 'F': '\\waw', 'M': '\\meem', 'n': '\\noon', 'K': '\\kaf',
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  'L': '\\lam', 's': '\\feh', 'O': '\\waw', 'R': '\\haht', 'r': '\\aint',
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  Â  Â  // --- 2. ENUMS & CONSTANTS ---
Â  Â  Â  Â  Â  Â  Â  Â  this.QuestionType = Object.freeze({
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  MCQ: "mcq", MRQ: "mrq", STRING: "string", OQ: "oq", GAP_TEXT: "gapText",
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  MATCHING: "matching", INPUT_BOX: "input_box", FRQ: "frq", FRQ_AI: "frq_ai", UNKNOWN: "unknown"
Â  Â  Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  Â  Â  this.Language = Object.freeze({ ARABIC: "ar", ENGLISH: "en" });
Â  Â  Â  Â  Â  Â  Â  Â  // --- 3. UTILITIES ---
Â  Â  Â  Â  Â  Â  Â  Â  this.logger = {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  info: (message) => console.log(`[INFO] âœ¨: ${message}`),
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  warn: (message) => console.warn(`[WARN] âš ï¸: ${message}`),
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  error: (message, errorObj = '') => console.error(`[ERROR] âŒ: ${message}`, errorObj)
Â  Â  Â  Â  Â  Â  Â  Â  };
Â  Â  Â  Â  Â  Â  Â  Â  // --- 4. STATE INITIALIZATION ---
Â  Â  Â  Â  Â  Â  Â  Â  this.questions = [];
Â  Â  Â  Â  Â  Â  Â  Â  this.isAIProcessing = false;
Â  Â  Â  Â  Â  Â  Â  Â  this.jsonForExport = '';
Â  Â  Â  Â  Â  Â  Â  Â  this.activeQuestionType = this.QuestionType.MCQ; // Default for simple text
Â  Â  Â  Â  Â  Â  Â  Â  this.userExplicitlySelectedType = false;
Â  Â  Â  Â  Â  Â  Â  Â  this.customization = { ...this.config.defaults };
Â  Â  Â  Â  Â  Â  Â  Â  this.apiKeys = { gemini: '', openai: '' };
Â  Â  Â  Â  Â  Â  Â  Â  this.aiProvider = 'gemini';
Â  Â  Â  Â  Â  Â  Â  Â  this.csvData = [];
Â  Â  Â  Â  Â  Â  Â  Â  this.hotInstance = null;
Â  Â  Â  Â  Â  Â  Â  Â  this.aiTemplateHotInstance = null;
Â  Â  Â  Â  Â  Â  Â  Â  this.language = this.config.defaults.lang;
Â  Â  Â  Â  Â  Â  Â  Â  this.aiAbortController = null;
Â  Â  Â  Â  Â  Â  Â  Â  this.validationTimeout = null;
Â  Â  Â  Â  Â  Â  Â  Â  this.autoSaveTimeout = null;
Â  Â  Â  Â  Â  Â  Â  Â  this.uploadedImageBase64 = null;
Â  Â  Â  Â  Â  Â  Â  Â  this.subjectTemplateMap = {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  "Ø§Ù„Ø£Ø­ÙŠØ§Ø¡": "352108393701",
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  "Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ§Øª": "357135867402",
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  "Ø§Ù„Ø¹Ù„ÙˆÙ…": "352108393701",
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  "Ø§Ù„Ø¹Ù„ÙˆÙ… Ø§Ù„Ù…ØªÙƒØ§Ù…Ù„Ø©": "352108393701",
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  "Ø§Ù„ÙÙŠØ²ÙŠØ§Ø¡": "352108393701",
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  "Ø§Ù„ÙƒÙŠÙ…ÙŠØ§Ø¡": "352108393701",
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  "Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©": "248170436092",
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  "Ø§ÙƒØªØ´Ù": "248170436092",
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  "Ø§Ù„ØªØ§Ø±ÙŠØ®": "750162567617",
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  "Ø§Ù„Ø¬ØºØ±Ø§ÙÙŠØ§": "257121690289",
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  "Ø§Ù„Ø¯Ø±Ø§Ø³Ø§Øª Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠØ©": "738178680941",
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  "Ø§Ù„ÙÙ„Ø³ÙØ© ÙˆØ§Ù„Ù…Ù†Ø·Ù‚": "186183541809",
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  "Ø¹Ù„Ù… Ø§Ù„Ù†ÙØ³ ÙˆØ§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹": "457197047804",
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  "Biologie": "352108393701",
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  "Biology": "352108393701",
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  "Chemistry": "352108393701",
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  "Connect Plus": "892167914601",
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  "Discover": "352108393701",
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  "English": "328173624946",
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  "Integrated Science": "352108393701",
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  "Mathematics": "357135867402",
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  "Physics": "352108393701",
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  "Science": "352108393701",
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  "Sciences": "352108393701"
Â  Â  Â  Â  Â  Â  Â  Â  };
Â  Â  Â  Â  Â  Â  Â  Â  // --- 5. APP BOOTSTRAP ---
Â  Â  Â  Â  Â  Â  Â  Â  this.loadSettings();
Â  Â  Â  Â  Â  Â  Â  Â  this.loadApiKeys();
Â  Â  Â  Â  Â  Â  Â  Â  // FIX: Initialize question type configs BEFORE loading content that depends on it.
Â  Â  Â  Â  Â  Â  Â  Â  this.renderQuestionTypeButtons();
Â  Â  Â  Â  Â  Â  Â  Â  this.loadAutoSavedContent();
Â  Â  Â  Â  Â  Â  Â  Â  this.populateTagsModal();
Â  Â  Â  Â  Â  Â  Â  Â  this.populateGenerationModal();
Â  Â  Â  Â  Â  Â  Â  Â  this.setActiveQuestionType(this.activeQuestionType);
Â  Â  Â  Â  Â  Â  Â  Â  this.updateInterfaceLanguage();
Â  Â  Â  Â  Â  Â  Â  Â  this.bindEvents();
Â  Â  Â  Â  Â  Â  Â  Â  this._updateApiProviderUI();
Â  Â  Â  Â  Â  Â  Â  Â  this.populateSourceIdDropdown();
Â  Â  Â  Â  Â  Â  Â  Â  this.logger.info("Application initialized successfully.");
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  // Safe HTML setter (global sanitizer)
Â  Â  Â  Â  Â  Â  setSafeHTML(el, html) {
Â  Â  Â  Â  Â  Â  Â  Â  const safe = DOMPurify.sanitize(html, {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ALLOW_DATA_ATTR: true,
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ALLOW_CUSTOM_ELEMENTS: true,
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  // ADD 'u' to allowed tags for underline
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ADD_TAGS: ['math-field','span','p','div','strong','ul', 'u', 'li', 'h4', 'h5', 'br', 'b'],
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ADD_ATTR: ['value','locale','lang','class','dir','style','data-node-type','data-node-variation', 'title', 'aria-label', 'data-question-id', 'data-part-index', 'data-field-type', 'data-choice-index', 'data-math-index', 'default-mode', 'data-tag', 'data-interactive']
Â  Â  Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  Â  Â  el.innerHTML = safe;
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  setLoading(isLoading, textAr = 'Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù„ÙŠÙ„...', textEn = 'Analyzing...') {
Â  Â  Â  Â  Â  Â  Â  Â  const loading = document.getElementById('loading');
Â  Â  Â  Â  Â  Â  Â  Â  const loadingText = document.getElementById('loading-text');
Â  Â  Â  Â  Â  Â  Â  Â  loading.style.display = isLoading ? 'block' : 'none';
Â  Â  Â  Â  Â  Â  Â  Â  loadingText.textContent = this.language === this.Language.ARABIC ? textAr : textEn;
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  bindEvents() {
Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById('smart-analyze-btn').addEventListener('click', () => this.smartAnalyze());
Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById('clean-format-btn').addEventListener('click', () => this.cleanAndFormat());
Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById('aiEnhanceBtn').addEventListener('click', () => this.enhanceWithAI());
Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById('convert-json-btn').addEventListener('click', () => this.convertToJSON());
Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById('clear-all-btn').addEventListener('click', () => this.clearAll());
Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById('langSwitchBtn').addEventListener('click', () => this.toggleLanguage());
Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById('copyBtn').addEventListener('click', () => this.copyJSON());
Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById('downloadBtn').addEventListener('click', () => this.downloadJSON());
Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById('downloadZipBtn').addEventListener('click', () => this.downloadZip());
Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById('csvBtn').addEventListener('click', () => this.openCSVModal());
Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById('csv-modal-close-btn').addEventListener('click', () => this.closeCSVModal());
Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById('csv-save-btn').addEventListener('click', () => this.saveCSVData());
Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById('csv-close-btn').addEventListener('click', () => this.closeCSVModal());
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  // API Provider and Keys
Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById('aiProviderSelect').addEventListener('change', (e) => this.setAIProvider(e.target.value));
Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById('geminiApiKey').addEventListener('input', (e) => this.saveApiKeys('gemini', e.target.value));
Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById('openaiApiKey').addEventListener('input', (e) => this.saveApiKeys('openai', e.target.value));
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  // Customize Modal Events
Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById('customizeBtn').addEventListener('click', () => this.openCustomizeModal());
Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById('customize-modal-close-btn').addEventListener('click', () => this.closeCustomizeModal());
Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById('customize-save-btn').addEventListener('click', () => this.saveCustomization());
Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById('aiTemplateBtn').addEventListener('click', () => this.openAiTemplateModal());
Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById('subjectTemplateBtn').addEventListener('click', () => this.openSubjectTemplateModal());
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  // Tags Modal Events
Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById('tagsBtn').addEventListener('click', () => this.toggleTagsModal());
Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById('tags-modal-close-btn').addEventListener('click', () => this.toggleTagsModal(false));
Â  Â  Â  Â  Â  Â  Â  Â  this.makeModalDraggable();

Â  Â  Â  Â  Â  Â  Â  Â  // Generation Modal Events
Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById('generate-questions-btn').addEventListener('click', () => this.openGenerationModal());
Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById('modal-cancel-btn').addEventListener('click', () => this.closeGenerationModal());
Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById('modal-generate-btn').addEventListener('click', () => this.generateQuestionsWithAI());
Â  Â  Â  Â  Â  Â  Â  Â  this.setupImageDropZone();

Â  Â  Â  Â  Â  Â  Â  Â  // Auto-Save and Live Validation Event
Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById('questionInput').addEventListener('input', () => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  clearTimeout(this.autoSaveTimeout);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  this.autoSaveTimeout = setTimeout(() => this.autoSaveContent(), 1000);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  clearTimeout(this.validationTimeout);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  this.validationTimeout = setTimeout(() => this.runLiveValidation(), 500);
Â  Â  Â  Â  Â  Â  Â  Â  });

Â  Â  Â  Â  Â  Â  Â  Â  // AI Template ID Modal Events
Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById('ai-template-modal-close-btn').addEventListener('click', () => this.closeAiTemplateModal());
Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById('ai-template-save-btn').addEventListener('click', () => this.saveAiTemplateData());
Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById('ai-template-close-btn').addEventListener('click', () => this.closeAiTemplateModal());

Â  Â  Â  Â  Â  Â  Â  Â  // Subject Template ID Modal Events
Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById('subject-template-modal-close-btn').addEventListener('click', () => this.closeSubjectTemplateModal());
Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById('subject-template-save-btn').addEventListener('click', () => this.saveSubjectTemplateData());
Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById('subject-template-close-btn').addEventListener('click', () => this.closeSubjectTemplateModal());
Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById('subjectSelect').addEventListener('change', () => this.updateSubjectQuestionsPreview());

Â  Â  Â  Â  Â  Â  Â  Â  // Modal ESC close
Â  Â  Â  Â  Â  Â  Â  Â  document.addEventListener('keydown', (e) => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (e.key === 'Escape') {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (document.getElementById('csvModalBg').style.display === 'flex') this.closeCSVModal();
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (document.getElementById('customizeModal').style.display === 'flex') this.closeCustomizeModal();
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (document.getElementById('aiTemplateModalBg').style.display === 'flex') this.closeAiTemplateModal();
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (document.getElementById('subjectTemplateModalBg').style.display === 'flex') this.closeSubjectTemplateModal();
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (document.getElementById('tagsModal').style.display === 'block') this.toggleTagsModal(false);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (document.getElementById('generationModalBg').style.display === 'flex') this.closeGenerationModal();
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById('questionsPreview').addEventListener('click', (event) => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const actionTarget = event.target.closest('.action-btn, .btn-save-edit, .btn-cancel-edit');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (actionTarget) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const questionPreview = actionTarget.closest('.question-preview');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (!questionPreview) return;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const questionId = questionPreview.dataset.id;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (actionTarget.classList.contains('delete-btn')) this.deleteQuestion(questionId);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  else if (actionTarget.classList.contains('edit-btn')) this.startEditQuestion(questionId);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  else if (actionTarget.classList.contains('btn-save-edit')) this.saveEditQuestion(questionId);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  else if (actionTarget.classList.contains('btn-cancel-edit')) this.cancelEditQuestion(questionId);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  return;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const choiceTarget = event.target.closest('.choice-item');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const partPreview = event.target.closest('.part-preview');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (choiceTarget && partPreview && partPreview.dataset.interactive === 'true') {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â this.handleChoiceClick(choiceTarget);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById('questionsPreview').addEventListener('input', (e) => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (e.target.tagName.toLowerCase() === 'math-field') {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  this.handleMathFieldInput(e);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  renderQuestionTypeButtons() {
Â  Â  Â  Â  Â  Â  Â  Â  const container = document.getElementById('questionTypeSelector');
Â  Â  Â  Â  Â  Â  Â  Â  if (!container) return;
Â  Â  Â  Â  Â  Â  Â  Â  container.innerHTML = '';
Â  Â  Â  Â  Â  Â  Â  Â  const configs = {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  [this.QuestionType.MCQ]: { label: 'MCQ', jsonType: 'mcq' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  [this.QuestionType.MRQ]: { label: 'MRQ', jsonType: 'mrq' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  [this.QuestionType.MATCHING]: { label: 'Matching', jsonType: 'matching' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  [this.QuestionType.GAP_TEXT]: { label: 'Gapped Text', jsonType: 'gapText' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  [this.QuestionType.STRING]: { label: 'String', jsonType: 'string' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  [this.QuestionType.FRQ]: { label: 'Free Response', jsonType: 'frq' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  [this.QuestionType.OQ]: { label: 'Ordering (OQ)', jsonType: 'oq' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  [this.QuestionType.FRQ_AI]: { label: 'FRQ (AI)', jsonType: 'frq_ai' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  [this.QuestionType.INPUT_BOX]: { label: 'Input Box', jsonType: 'input_box' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  [this.QuestionType.UNKNOWN]: { label: 'Unknown', jsonType: 'unknown' } // FIX: Added Unknown type
Â  Â  Â  Â  Â  Â  Â  Â  };
Â  Â  Â  Â  Â  Â  Â  Â  this.questionTypeConfigs = configs;
Â  Â  Â  Â  Â  Â  Â  Â  for (const typeKey in configs) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const config = configs[typeKey];
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (typeKey === this.QuestionType.UNKNOWN) continue; // Don't create a button for it
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const button = document.createElement('button');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  button.className = 'q-type-btn';
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  button.textContent = config.label;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  button.dataset.type = typeKey;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  button.onclick = () => this.setActiveQuestionType(typeKey);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  container.appendChild(button);
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  setActiveQuestionType(typeKey) {
Â  Â  // --- Ø¨Ø¯Ø§ÙŠØ© Ø§Ù„Ø¬Ø²Ø¡ Ø§Ù„Ø¬Ø¯ÙŠØ¯: Ù…Ù†Ø·Ù‚ Ø¥Ù„ØºØ§Ø¡ Ø§Ù„ØªÙØ¹ÙŠÙ„ ---
Â  Â  // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù…Ø§ Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ÙŠØ¶ØºØ· Ø¹Ù„Ù‰ Ø§Ù„Ø²Ø± Ø§Ù„Ù†Ø´Ø· Ø­Ø§Ù„ÙŠÙ‹Ø§ Ø¨Ø§Ù„ÙØ¹Ù„
Â  Â  if (this.activeQuestionType === typeKey && this.userExplicitlySelectedType) {
Â  Â  Â  Â Â 
Â  Â  Â  Â  // Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„Ø£Ù…Ø± ÙƒØ°Ù„ÙƒØŒ Ù‚Ù… Ø¨Ø¥Ù„ØºØ§Ø¡ ØªÙ†Ø´ÙŠØ·Ù‡ ÙˆØ§Ù„Ø¹ÙˆØ¯Ø© Ø¥Ù„Ù‰ ÙˆØ¶Ø¹ "Ø§Ù„ÙƒØ´Ù Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ"
Â  Â  Â  Â  this.userExplicitlySelectedType = false;
Â  Â  Â  Â Â 
Â  Â  Â  Â  // Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªØ¹ÙŠÙŠÙ† Ø¥Ù„Ù‰ Ø§Ù„Ù†ÙˆØ¹ Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ Ù„Ù„Ø§ØªØ³Ø§Ù‚
Â  Â  Â  Â  this.activeQuestionType = this.QuestionType.MCQ;Â 

Â  Â  Â  Â  // Ø¥Ø²Ø§Ù„Ø© ÙØ¦Ø© 'active' Ù…Ù† Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ø²Ø±Ø§Ø± Ù„ÙŠØ¹ÙƒØ³ Ø§Ù„ØªØºÙŠÙŠØ± Ø¨ØµØ±ÙŠÙ‹Ø§
Â  Â  Â  Â  document.querySelectorAll('.q-type-btn').forEach(btn => {
Â  Â  Â  Â  Â  Â  btn.classList.remove('active');
Â  Â  Â  Â  });
Â  Â  Â  Â Â 
Â  Â  Â  Â  return; // Ø§Ù„Ø®Ø±ÙˆØ¬ Ù…Ù† Ø§Ù„Ø¯Ø§Ù„Ø© Ù„Ø£Ù† Ù…Ù‡Ù…ØªÙ†Ø§ Ø§Ù†ØªÙ‡Øª Ù‡Ù†Ø§
Â  Â  }
Â  Â  // --- Ù†Ù‡Ø§ÙŠØ© Ø§Ù„Ø¬Ø²Ø¡ Ø§Ù„Ø¬Ø¯ÙŠØ¯ ---

Â  Â  // Ø§Ù„Ø¬Ø²Ø¡ Ø§Ù„Ù‚Ø¯ÙŠÙ…: ÙŠØ¹Ù…Ù„ Ø¹Ù†Ø¯Ù…Ø§ ÙŠØªÙ… Ø§Ù„Ø¶ØºØ· Ø¹Ù„Ù‰ Ø²Ø± Ø¬Ø¯ÙŠØ¯
Â  Â  this.userExplicitlySelectedType = true;
Â  Â  this.activeQuestionType = typeKey;

Â  Â  // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù†Ù…Ø· Ø§Ù„Ù…Ø±Ø¦ÙŠ Ù„Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ø²Ø±Ø§Ø±
Â  Â  document.querySelectorAll('.q-type-btn').forEach(btn => {
Â  Â  Â  Â  btn.classList.toggle('active', btn.dataset.type === typeKey);
Â  Â  });
}
Â  Â  Â  Â  Â  Â  // ***************************************************************
Â  Â  Â  Â  Â  Â  // ** ID & VALIDATION LOGIC **
Â  Â  Â  Â  Â  Â  // ***************************************************************
Â  Â  Â  Â  Â  Â  extractDummyIds(content) {
Â  Â  Â  Â  Â  Â  Â  Â  const dummyIds = [];
Â  Â  Â  Â  Â  Â  Â  Â  const blocks = content.split(/\n---\n/).filter(block => block.trim());
Â  Â  Â  Â  Â  Â  Â  Â  blocks.forEach(block => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const lines = block.trim().split('\n');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  for (const line of lines) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const match = line.match(/^id:\s*(new\w+)/);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (match) { dummyIds.push(match[1]); break; }
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  Â  Â  return [...new Set(dummyIds)];
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  async promptForOfficialIds(dummyIds) {
Â  Â  Â  Â  Â  Â  Â  Â  return new Promise((resolve) => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const modal = document.createElement('div');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  modal.style.cssText = `position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; background: rgba(0,0,0,0.7); z-index: 9999; display: flex; align-items: center; justify-content: center;`;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const dialog = document.createElement('div');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  dialog.style.cssText = `background: white; padding: 30px; border-radius: 15px; max-width: 600px; max-height: 80vh; overflow-y: auto; box-shadow: 0 10px 30px rgba(0,0,0,0.3);`;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const isAr = this.language === this.Language.ARABIC;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  dialog.innerHTML = `
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h3 style="margin-bottom: 20px; color: #4f46e5;">${isAr ? `ØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ ${dummyIds.length} Ù…Ø¹Ø±Ù ÙˆÙ‡Ù…ÙŠ` : `Found ${dummyIds.length} dummy IDs`}</h3>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p style="margin-bottom: 20px;">${isAr ? 'Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ù…Ø¹Ø±ÙØ§Øª Ø§Ù„Ø±Ø³Ù…ÙŠØ© (12 Ø±Ù‚Ù… Ù„ÙƒÙ„ Ù…Ø¹Ø±Ù):' : 'Please enter official IDs (12 digits each):'}</p>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div id="idInputs" style="margin-bottom: 20px;"></div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div style="display: flex; gap: 10px; justify-content: flex-end;">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button id="cancelIds" class="btn btn-secondary">${isAr ? 'Ø¥Ù„ØºØ§Ø¡' : 'Cancel'}</button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button id="confirmIds" class="btn btn-primary">${isAr ? 'ØªØ£ÙƒÙŠØ¯' : 'Confirm'}</button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  `;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const inputsContainer = dialog.querySelector('#idInputs');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  dummyIds.forEach((dummyId, index) => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const inputDiv = document.createElement('div');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  inputDiv.style.cssText = 'margin-bottom: 15px; display: flex; align-items: center; gap: 10px;';
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  inputDiv.innerHTML = `<label style="min-width: 100px; font-weight: bold;">${dummyId}:</label>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <input type="text" id="officialId_${index}" placeholder="123456789012" maxlength="12" style="flex: 1; padding: 8px; border: 2px solid #e5e7eb; border-radius: 6px;">`;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  inputsContainer.appendChild(inputDiv);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  modal.appendChild(dialog);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  document.body.appendChild(modal);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const cleanup = () => document.body.removeChild(modal);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  dialog.querySelector('#confirmIds').onclick = () => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const mapping = {}; let valid = true; const usedIds = new Set();
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  dummyIds.forEach((dummyId, index) => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const input = document.getElementById(`officialId_${index}`);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const value = input.value.trim();
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (!/^\d{12}$/.test(value)) { input.style.borderColor = '#ef4444'; valid = false; }
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  else if (usedIds.has(value)) { input.style.borderColor = '#f59e0b'; valid = false; this.showMessage(isAr ? 'Ù…Ø¹Ø±ÙØ§Øª Ù…ÙƒØ±Ø±Ø©!' : 'Duplicate IDs!', 'error'); }
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  else { input.style.borderColor = '#10b981'; mapping[dummyId] = value; usedIds.add(value); }
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (valid) { cleanup(); resolve(mapping); }
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  };
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  dialog.querySelector('#cancelIds').onclick = () => { cleanup(); resolve(null); };
Â  Â  Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  // ***************************************************************
Â  Â  Â  Â  Â  Â  // ** PARSING & AI LOGIC **
Â  Â  Â  Â  Â  Â  // ***************************************************************
Â  Â  Â  Â  Â  Â  buildAdvancedFormattingPrompt(rawText, forcedType = null) {
Â  Â  Â  Â  Â  Â  Â  Â  const isArabic = this.language === this.Language.ARABIC;
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  const examples = `
Ù…Ø«Ø§Ù„ MCQ (Ù†Ø¬Ù…Ø© ÙˆØ§Ø­Ø¯Ø© ÙÙ‚Ø·):
type: mcq
@STEM
Ù…Ø§ Ø¹Ø§ØµÙ…Ø© ÙØ±Ù†Ø³Ø§ØŸ
@CHOICES
- Ù„Ù†Ø¯Ù†
* Ø¨Ø§Ø±ÙŠØ³
- Ù…Ø¯Ø±ÙŠØ¯
---
Ù…Ø«Ø§Ù„ ØµÙˆØ§Ø¨ Ø£Ù… Ø®Ø·Ø£:
type: mcq
@STEM
Ù‡Ù„ Ø¨Ø§Ø±ÙŠØ³ Ø¹Ø§ØµÙ…Ø© ÙØ±Ù†Ø³Ø§ØŸ ØµÙˆØ§Ø¨ Ø£Ù… Ø®Ø·Ø£ØŸ
@CHOICES
* ØµÙˆØ§Ø¨
- Ø®Ø·Ø£
---
Ù…Ø«Ø§Ù„ MRQ (Ø£ÙƒØ«Ø± Ù…Ù† Ù†Ø¬Ù…Ø©):
type: mrq
@STEM
Ø§Ø®ØªØ± ÙƒÙ„ Ø§Ù„Ù„ØºØ§Øª Ø§Ù„Ø¨Ø±Ù…Ø¬ÙŠØ©:
@CHOICES
* Python
- HTML
* JavaScript
---
Ù…Ø«Ø§Ù„ Matching:
type: matching
@STEM
ØµÙ„ Ø§Ù„Ø¯ÙˆÙ„ Ø¨Ø¹ÙˆØ§ØµÙ…Ù‡Ø§:
@MATCHING_PAIRS
ÙØ±Ù†Ø³Ø§ | Ø¨Ø§Ø±ÙŠØ³
Ø£Ù„Ù…Ø§Ù†ÙŠØ§ | Ø¨Ø±Ù„ÙŠÙ†
---
Ù…Ø«Ø§Ù„ GapText:
type: gapText
@STEM
Ø§Ù„ÙƒÙˆÙƒØ¨ @BLANK Ù‡Ùˆ Ø§Ù„Ø£ÙƒØ¨Ø± ÙˆÙ„Ù‡ @BLANK Ù‚Ù…Ø±Ø§Ù‹.
@GAPS
Ø§Ù„Ù…Ø´ØªØ±ÙŠ
79
---
Ù…Ø«Ø§Ù„ Ù…Ø¹Ø§Ø¯Ù„Ø© Ù…Ø¹Ù‚Ø¯Ø©:
type: string
@STEM
Ø£ÙˆØ¬Ø¯ Ø­Ù„ Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„ØªØ§Ù„ÙŠ:
\`\`
\\begin{cases} x+y=5 \\\\ x-y=1 \\end{cases}
\`\`
@ANSWER
x=3, y=2
`;
Â  Â  Â  Â  Â  Â  Â  Â  let typeInstruction = '1.Â  **Ø­Ø¯Ø¯ Ù†ÙˆØ¹** ÙƒÙ„ Ø³Ø¤Ø§Ù„ Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ù…Ø­ØªÙˆØ§Ù‡.'; // Ø¯ÙŠ Ø§Ù„Ø¬Ù…Ù„Ø© Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ©
if (forcedType && forcedType !== 'unknown') {
Â  Â  typeInstruction = `Ù…Ù‡Ù…ØªÙƒ Ù‡ÙŠ ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„Ù†Øµ Ø§Ù„ØªØ§Ù„ÙŠ **ÙƒÙ†ÙˆØ¹ Ø³Ø¤Ø§Ù„ ${forcedType}** Ø¨Ø´ÙƒÙ„ Ø¥Ù„Ø²Ø§Ù…ÙŠ. Ù„Ø§ ØªØ­Ø§ÙˆÙ„ ØªØ®Ù…ÙŠÙ† Ø£Ùˆ Ø§ÙƒØªØ´Ø§Ù Ø£ÙŠ Ù†ÙˆØ¹ Ø¢Ø®Ø±.`;
}
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  const basePromptAr = `
Ø£Ù†Øª Ø£Ø¯Ø§Ø© Ø¯Ù‚ÙŠÙ‚Ø© Ù„ØªØ­ÙˆÙŠÙ„ Ø§Ù„Ù†ØµÙˆØµ Ø¥Ù„Ù‰ ØªÙ†Ø³ÙŠÙ‚ Ù…Ø­Ø¯Ø¯. Ù…Ù‡Ù…ØªÙƒ Ø§Ù„ÙˆØ­ÙŠØ¯Ø© Ù‡ÙŠ ØªØ­Ø¯ÙŠØ¯ Ø£Ø¬Ø²Ø§Ø¡ Ø§Ù„Ù†Øµ (Ø§Ù„Ø³Ø¤Ø§Ù„ØŒ Ø§Ù„Ø§Ø®ØªÙŠØ§Ø±Ø§ØªØŒ Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø©.. Ø¥Ù„Ø®) ÙˆÙˆØ¶Ø¹ Ø§Ù„ÙˆØ³ÙˆÙ… (Tags) Ø§Ù„Ù…Ù†Ø§Ø³Ø¨Ø© Ø­ÙˆÙ„Ù‡Ø§.

**Ù…Ù‡Ù… Ø¬Ø¯Ù‹Ø§: Ù„Ø§ ØªÙ‚Ù… Ø¨ØªØºÙŠÙŠØ±ØŒ Ø£Ùˆ ØªØµØ­ÙŠØ­ØŒ Ø£Ùˆ Ø¥Ø¶Ø§ÙØ©ØŒ Ø£Ùˆ Ø­Ø°Ù Ø£ÙŠ Ø¬Ø²Ø¡ Ù…Ù† Ø§Ù„Ù†Øµ Ø§Ù„Ø£ØµÙ„ÙŠ Ø¥Ø·Ù„Ø§Ù‚Ù‹Ø§.** Ø­Ø§ÙØ¸ Ø¹Ù„Ù‰ Ø§Ù„ÙƒÙ„Ù…Ø§Øª ÙˆØ§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø£ØµÙ„ÙŠ ØªÙ…Ø§Ù…Ù‹Ø§ ÙƒÙ…Ø§ Ù‡Ùˆ. ÙˆØ¸ÙŠÙØªÙƒ Ù‡ÙŠ ÙÙ‚Ø· ØªØ·Ø¨ÙŠÙ‚ Ù‡ÙŠÙƒÙ„ Ø§Ù„ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨.

**Ø§Ù„ØªØ¹Ù„ÙŠÙ…Ø§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©:**
${typeInstruction}

2.Â  **Ø£Ø®Ø±Ø¬ ÙƒÙ„ Ø³Ø¤Ø§Ù„ Ø¨Ø§Ù„ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„ØªØ§Ù„ÙŠ Ø¯ÙˆÙ† Ø£ÙŠ ØªØºÙŠÙŠØ± ÙÙŠ Ø§Ù„Ù…Ø­ØªÙˆÙ‰:**
Â  Â  -Â  Â Ø³Ø·Ø± Ø¨ÙŠØ§Ù†Ø§Øª ÙˆØµÙÙŠØ© ÙÙŠ Ø§Ù„Ø£Ø¹Ù„Ù‰ØŒ Ù…Ø«Ø§Ù„: \`type: mcq\`
Â  Â  -Â  Â ÙˆØ³Ù… \`@STEM\` Ù„Ù†Øµ Ø§Ù„Ø³Ø¤Ø§Ù„ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ.
Â  Â  -Â  Â ÙˆØ³ÙˆÙ… Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø­Ø³Ø¨ Ù†ÙˆØ¹ Ø§Ù„Ø³Ø¤Ø§Ù„ (\`@CHOICES\`, \`@MATCHING_PAIRS\`, \`@GAPS\`, \`@ANSWER\`).
Â  Â  -Â  Â Ø§Ø³ØªØ®Ø¯Ù… \`---\` Ù„Ù„ÙØµÙ„ Ø¨ÙŠÙ† ÙƒÙ„ Ø³Ø¤Ø§Ù„ ÙˆØ¢Ø®Ø±.

**Ù‚ÙˆØ§Ø¹Ø¯ Ø£Ù†ÙˆØ§Ø¹ Ø§Ù„Ø£Ø³Ø¦Ù„Ø© (Ù…Ù‡Ù…):**
-Â  Â **MCQ/MRQ:** Ø§Ø³ØªØ®Ø¯Ù… \`*\` Ù‚Ø¨Ù„ Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø§Ù„ØµØ­ÙŠØ­Ø© Ùˆ \`-\` Ù‚Ø¨Ù„ Ø§Ù„Ø®Ø§Ø·Ø¦Ø©. **MCQ** ÙŠØ¬Ø¨ Ø£Ù† ÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ Ù†Ø¬Ù…Ø© ÙˆØ§Ø­Ø¯Ø© ÙÙ‚Ø·ØŒ Ø¨ÙŠÙ†Ù…Ø§ **MRQ** ÙŠÙ…ÙƒÙ† Ø£Ù† ÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ Ù†Ø¬Ù…Ø© ÙˆØ§Ø­Ø¯Ø© Ø£Ùˆ Ø£ÙƒØ«Ø±.
-Â  Â **Ø£Ø³Ø¦Ù„Ø© Ø§Ù„ØµÙˆØ§Ø¨ ÙˆØ§Ù„Ø®Ø·Ø£:** Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø§Ù„ØªÙŠ ØªØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ "ØµÙˆØ§Ø¨ Ø£Ù… Ø®Ø·Ø£"ØŒ "Ø®Ø·Ø£ Ø£Ù… ØµÙˆØ§Ø¨"ØŒ "true or false"ØŒ "false or true" ÙŠØ¬Ø¨ ØªÙ†Ø³ÙŠÙ‚Ù‡Ø§ ÙƒÙ€ MCQ Ù…Ø¹ ÙˆØ¶Ø¹ "ØµÙˆØ§Ø¨" Ø£Ùˆ "True" ÙƒØ£ÙˆÙ„ Ø§Ø®ØªÙŠØ§Ø±.
-Â  Â **Matching:** ÙŠØ¬Ø¨ Ø£Ù† ØªÙƒÙˆÙ† Ø§Ù„Ø£Ø²ÙˆØ§Ø¬ ÙÙŠ \`@MATCHING_PAIRS\` Ù…ÙØµÙˆÙ„Ø© Ø¨Ù€ \`|\`.
-Â  Â **GapText:** Ø§Ø³ØªØ®Ø¯Ù… \`@BLANK\` ÙÙŠ Ù†Øµ Ø§Ù„Ø³Ø¤Ø§Ù„ Ù„ÙƒÙ„ ÙØ¬ÙˆØ©ØŒ ÙˆØ¶Ø¹ Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø§Øª Ø¨Ø§Ù„ØªØ±ØªÙŠØ¨ ÙÙŠ \`@GAPS\`.
-Â  Â **Input Box:** ÙŠØ¬Ø¨ Ø£Ù† ØªÙƒÙˆÙ† Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© ÙÙŠ \`@ANSWER\` Ø¨ØµÙŠØºØ© \`Ø§Ù„Ù‚ÙŠÙ…Ø© | Ø§Ù„ÙˆØ­Ø¯Ø©\` Ø£Ùˆ \`Ø§Ù„Ù‚ÙŠÙ…Ø©\` ÙÙ‚Ø· Ø¥Ø°Ø§ Ù„Ù… ØªÙƒÙ† Ù‡Ù†Ø§Ùƒ ÙˆØ­Ø¯Ø©.

**Ù‚ÙˆØ§Ø¹Ø¯ Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ§Øª (Ù…Ù‡Ù…Ø© Ù„Ù„ØºØ§ÙŠØ© ÙˆÙŠØ¬Ø¨ Ø§ØªØ¨Ø§Ø¹Ù‡Ø§ Ø¨Ø¯Ù‚Ø©):**
-Â  Â **Ù„Ø§ ØªÙ‚Ù… Ø£Ø¨Ø¯Ù‹Ø§ Ø¨ØªØ¹Ø¯ÙŠÙ„** Ù…Ø­ØªÙˆÙ‰ Ø£Ùˆ ØµÙŠØºØ© Ø£ÙŠ ÙƒÙˆØ¯ LaTeX.
-Â  Â **Ø­ÙˆÙ‘Ù„ Ø§Ù„Ù…Ø­Ø¯Ø¯Ø§Øª Ø§Ù„Ø³Ø·Ø±ÙŠØ© (inline):** Ø£ÙŠ Ù†Øµ Ù…Ø­Ø§Ø· Ø¨Ù€ \`\$...\$\` Ø£Ùˆ \`\\(...\\)\` ÙŠØ¬Ø¨ Ù„ÙÙ‡ Ø¨Ù€ \`...\` (backtick ÙØ±Ø¯ÙŠØ©).
-Â  Â **Ø­ÙˆÙ‘Ù„ Ø§Ù„Ù…Ø­Ø¯Ø¯Ø§Øª Ø§Ù„Ø¹Ø±Ø¶ (display):** Ø£ÙŠ Ù†Øµ Ù…Ø­Ø§Ø· Ø¨Ù€ \`\$\$...\$\$\` Ø£Ùˆ \`\\[...\\]\` ÙŠØ¬Ø¨ Ù„ÙÙ‡ Ø¨Ù€ \`\`...\`\` (backticks Ù…Ø²Ø¯ÙˆØ¬Ø©).
-Â  Â **Ø­ÙˆÙ‘Ù„ Ø§Ù„Ø¨ÙŠØ¦Ø§Øª Ø§Ù„Ù…Ø¹Ù‚Ø¯Ø©:** Ø£ÙŠ ÙƒØªÙ„Ø© LaTeX ØªØ¨Ø¯Ø£ Ø¨Ù€ \`\\begin{...}\` ÙˆØªÙ†ØªÙ‡ÙŠ Ø¨Ù€ \`\\end{...}\` ÙŠØ¬Ø¨ Ø£Ù† ØªÙØ¹Ø§Ù…Ù„ **Ø¯Ø§Ø¦Ù…Ù‹Ø§** ÙƒÙ…Ø¹Ø§Ø¯Ù„Ø© Ø¹Ø±Ø¶ ÙˆØªÙÙ„Ù Ø¨Ù€ \`\`...\`\` (backticks Ù…Ø²Ø¯ÙˆØ¬Ø©).

Ù„Ø§ ØªØ®ØªØ±Ø¹ Ø£ÙŠ Ù…Ø­ØªÙˆÙ‰. Ø§ØªØ¨Ø¹ Ø§Ù„Ù‚ÙˆØ§Ø¹Ø¯ Ø¨Ø¯Ù‚Ø©.


**Ù†Ù…Ø§Ø°Ø¬:**
${examples}

**Ø§Ù„Ù†Øµ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨ ØªØ­ÙˆÙŠÙ„Ù‡:**
${rawText}

**Ø§Ù„Ù†Ø§ØªØ¬ Ø§Ù„Ù…Ù†Ø³Ù‚:**
`;
Â  Â  Â  Â  Â  Â  Â  Â  const basePromptEn = `
You are an expert question formatter and a meticulous academic assistant. Your task is to convert unstructured text into a standardized, structured format.

**Core Instructions:**
1.Â  **Detect** every question in the text.
2.Â  **Auto-detect** the type for each question from: mcq, mrq, oq, gapText, matching, string, frq, frq_ai, input_box.
3.Â  **Format each question as follows:**
Â  Â  -Â  Â A metadata line at the top, e.g., \`type: mcq\`
Â  Â  -Â  Â A \`@STEM\` tag for the main question text.
Â  Â  -Â  Â Content tags based on the question type (\`@CHOICES\`, \`@MATCHING_PAIRS\`, \`@GAPS\`, \`@ANSWER\`).
Â  Â  -Â  Â Use \`---\` to separate each question.

**Question Type Rules (Important):**
-Â  Â **MCQ/MRQ:** Use \`*\` before a correct answer and \`-\` before an incorrect one. **MCQ** must have exactly one star, while **MRQ** can have one or more.
-Â  Â **True/False Questions:** Questions containing "true or false", "false or true", "ØµÙˆØ§Ø¨ Ø£Ù… Ø®Ø·Ø£", "Ø®Ø·Ø£ Ø£Ù… ØµÙˆØ§Ø¨" should be formatted as MCQ with "True" or "ØµÙˆØ§Ø¨" as the first choice.
-Â  Â **Matching:** Pairs under \`@MATCHING_PAIRS\` must be separated by \`|\`.
-Â  Â **GapText:** Use \`@BLANK\` in the stem for each gap, and place the ordered answers under \`@GAPS\`.
-Â  Â **Input Box:** The answer under \`@ANSWER\` should be in the format \`value | unit\` or just \`value\` if there is no unit.

**Mathematics Rules (Crucial and must be followed precisely):**
-Â  Â **Never modify** the content or syntax of any LaTeX code.
-Â  Â **Convert inline delimiters:** Any text surrounded by \`\$...\$\` or \`\\(...\\)\` must be wrapped with \`...\` (single backticks).
-Â  Â **Convert display delimiters:** Any text surrounded by \`\$\$...\$\$\` or \`\\[...\\]\` must be wrapped with \`\`...\`\` (double backticks).
-Â  Â **Convert complex environments:** Any LaTeX block that starts with \`\\begin{...}\` and ends with \`\\end{...}\` must **always** be treated as display math and wrapped with \`\`...\`\` (double backticks).

Do not invent any content. Follow the rules precisely.

**Examples:**
${examples}

**Input Text to Convert:**
${rawText}

**Formatted Output:**
`;
Â  Â  Â  Â  Â  Â  Â  Â  return isArabic ? basePromptAr : basePromptEn;
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  cleanFormattedText(t) {
Â  Â  Â  Â  Â  Â  Â  Â  if (!t) return '';
Â  Â  Â  Â  Â  Â  Â  Â  let s = t.trim();
Â  Â  Â  Â  Â  Â  Â  Â  const fence = s.match(/```[a-zA-Z0-9]*\s*\n([\s\S]*?)\n```/);
Â  Â  Â  Â  Â  Â  Â  Â  if (fence) s = fence[1].trim();
Â  Â  Â  Â  Â  Â  Â  Â  s = s.replace(/^\s*(Here's the formatted text:|Ø¥Ù„ÙŠÙƒ Ø§Ù„Ù†Øµ Ø§Ù„Ù…ÙÙ†Ø³Ù‚:|The formatted text is:)\s*/gmi, '');
Â  Â  Â  Â  Â  Â  Â  Â  s = s.replace(/\n{3,}/g, '\n\n');
Â  Â  Â  Â  Â  Â  Â  Â  return s.trim();
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  convertDollarMathToBackticks(text) {
Â  Â  Â  Â  Â  Â  Â  Â  if (!text) return text;
Â  Â  Â  Â  Â  Â  Â  Â  return text
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  .replace(/\$\$([\s\S]*?)\$\$/g, '``$1``')
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  .replace(/\$([^\$\n]+?)\$/g, '`$1`')
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  .replace(/```math\s*\n([\s\S]*?)\n```/g, '``$1``')
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  .replace(/\\\(([\s\S]*?)\\\)/g, '`$1`');
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  autoDetectTypeFromContent(block) {
Â  Â  Â  Â  Â  Â  Â  Â  const hasChoices = /@CHOICES/i.test(block);
Â  Â  Â  Â  Â  Â  Â  Â  const hasAnswer = /@ANSWER/i.test(block);
Â  Â  Â  Â  Â  Â  Â  Â  const hasGaps = /@GAPS/i.
